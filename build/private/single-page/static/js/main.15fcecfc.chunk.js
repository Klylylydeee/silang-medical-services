(this["webpackJsonpsilang-medical-services"]=this["webpackJsonpsilang-medical-services"]||[]).push([[0],{1041:function(e,t){},1043:function(e,t){},1178:function(e,t,a){},1179:function(e,t,a){},1181:function(e,t,a){},1183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(69),i=a.n(s),c=a(26),l=a(65),o=a(47),d=a(28),p=a(7),u=a(12),j=a.n(u),b=a(388),x=a(174),m=a(90),h=a.n(m),g=a(1201),O=a(188),y=a(725),f=function(e){var t=e.payloadType,a=e.textString;switch(y.b.config({maxCount:1,duration:5}),t){case"info":default:y.b.info("".concat(a));break;case"success":y.b.success("".concat(a));break;case"error":y.b.error("".concat(a));break;case"warning":y.b.warning("".concat(a))}},v=Object(O.b)({name:"user",initialState:{first_name:void 0,last_name:void 0,email:void 0,phone_number:void 0,barangay:void 0,designation:void 0},reducers:{signIn:function(e,t){e.first_name=t.payload.first_name,e.last_name=t.payload.last_name,e.email=t.payload.email,e.phone_number=t.payload.phone_number,e.barangay=t.payload.barangay,e.designation=t.payload.designation},signOut:function(e,t){e.first_name=void 0,e.last_name=void 0,e.email=void 0,e.phone_number=void 0,e.barangay=void 0,e.designation=void 0,f({payloadType:"success",textString:"No longer authorized!"})},changeSetting:function(e,t){e.email=t.payload.email,e.phone_number=t.payload.phone_number}}}),C=v.actions,A=C.signIn,w=C.signOut,S=C.changeSetting,k=v.reducer,D=Object(O.b)({name:"web",initialState:{authorization:!1,loading:!1,language:"en",drawer:!1,dimension:""},reducers:{authorizeUser:function(e,t){e.authorization=!0,e.language=t.payload.language},unauthorizeUser:function(e,t){e.authorization=!1,e.language="en"},changeStatus:function(e,t){e.status=!e.status},changeLanguage:function(e,t){e.language="en"===t.payload.language?"tl":"en"},revertDrawer:function(e,t){e.drawer=t.payload.drawer},changeDimension:function(e,t){e.dimension=t.payload.dimension},changeLoader:function(e,t){e.loading=t.payload.loading}}}),T=D.actions,I=T.authorizeUser,M=T.unauthorizeUser,_=(T.changeStatus,T.changeLanguage,T.revertDrawer),B=T.changeDimension,Y=T.changeLoader,R=D.reducer,q=a(50),P=a(4),E=a(16),F=a(699),N=a.n(F).a.create({baseURL:"https://api.silangmedical.com",headers:{Authorization:{toString:function(){return"Bearer ".concat(localStorage.getItem("Authorization"))}}}}),z=(a.p,a(1203)),L=a(721),U=a(1204),V=a(269),Q=a(148),W=a(1190),H=a(95),Z=a(1202),K=a(107),J=a(1211),X=a(1217),G=a(722),$=a(139),ee=(a(1200),a(1218)),te=a(1207),ae=a(720),ne=a(1213),re=a(1212),se=(a(217),a(263),a(1224),a(1225),a(1223),a.p+"static/media/LandingLogo.119c851f.png"),ie=(a(570),a(2)),ce=(a.p,a.p,"data:image/png;base64,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"),le=a(24),oe=a.n(le),de=a(11),pe=a(1219),ue=a(1191),je=a(1205),be=a(1220),xe=a(1226),me=a(389),he=a.n(me),ge=(a.p,a.p,a.p,a.p,a.p,a(1209),a(1194),a(1199)),Oe=a(1192),ye=a(1193);ge.a.use([Oe.a,ye.a]);var fe=a(1208),ve=a(1227),Ce=(a(950),a.p+"static/media/mio.05fb5b67.jpg"),Ae=a.p+"static/media/barangay-lumil.bfa25a06.png",we=a.p+"static/media/black-grid.d99fd654.png",Se=a.p+"static/media/SHIS-logo.119c851f.png",ke=["password","confirm_password"];var De=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.web})).dimension,a=Object(l.b)(),r=Object(p.a)(a,1)[0],s=Object(n.useState)(1),i=Object(p.a)(s,2),o=i[0],u=i[1],b=Object(n.useState)(""),x=Object(p.a)(b,2),m=x[0],g=x[1],O=Object(n.useState)(""),y=Object(p.a)(O,2),v=y[0],C=y[1],w=Object(n.useState)({password:"",confirm_password:""}),S=Object(p.a)(w,2),k=S[0],D=S[1],T=Object(n.useState)({}),M=Object(p.a)(T,2),_=M[0],B=M[1],R=Object(n.useState)(!0),q=Object(p.a)(R,2),F=q[0],L=q[1];Object(n.useEffect)((function(){k.password.length<5||k.confirm_password.length<5?L(!0):k.password===k.confirm_password?L(!1):L(!0)}),[k]);var U=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.verify(r.get("payload"),"teamcapbi");case 3:t=e.sent,B(t.userData),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var t=Object(d.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(Y({loading:!0})),t.next=4,h.a.verify(r.get("reset"),"teamcapbi");case 4:return a=t.sent,t.next=7,N.post("authentication/accept-password",{email:a.email,password:a.password});case 7:n=t.sent,f({payloadType:"success",textString:n.data.message}),u(1),e(Y({loading:!1})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e(Y({loading:!1}));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){null!==r.get("payload")?(u(5),U()):null!==r.get("reset")?(u(1),W()):u(1)}),[]);var Z=function(){var t=Object(d.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(Y({loading:!0})),t.next=4,N.post("settings/user-setting?id=".concat(_._id),{password:k.password});case 4:a=t.sent,f({payloadType:"success",textString:a.data.message}),u(1),e(Y({loading:!1})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 14:case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(d.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(Y({loading:!0})),t.next=4,N.post("authentication/sign-up-verification",{_id:_._id,password:k.password});case 4:a=t.sent,f({payloadType:"success",textString:a.data.message}),u(1),e(Y({loading:!1})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 14:case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(d.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(Y({loading:!0})),t.next=4,N.post("authentication/lost-password",{email:a.email,password:a.password});case 4:n=t.sent,f({payloadType:"success",textString:n.data.message}),u(1),e(Y({loading:!1})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 14:case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),X=function(){var t=Object(d.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(Y({loading:!0})),t.next=4,N.post("authentication/sign-in",{email:a.email,password:a.password});case 4:n=t.sent,f({payloadType:"success",textString:n.data.message}),u(2),C(a.email),e(Y({loading:!1})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),e(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 15:case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),$=function(){var t=Object(d.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(Y({loading:!0})),t.next=4,N.post("authentication/pin-verification",{email:v,pin:a});case 4:n=t.sent,f({payloadType:"success",textString:n.data.message}),r=h.a.verify(n.data.payload,"teamcapbi"),localStorage.setItem("Authorization",n.data.payload),e(A({first_name:r.first_name,last_name:r.last_name,email:r.email,phone_number:r.phone_number,barangay:r.barangay,designation:r.designation})),e(I({language:r.language})),e(Y({loading:!1})),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),e(Y({loading:!1})),t.t0.response?(f({payloadType:"error",textString:t.t0.response.data.message}),"Max pin threshold has been meet. Please reset your account's password."===t.t0.response.data.message&&u(4)):f({payloadType:"error",textString:t.t0.message});case 17:case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),ee=function(){var t=Object(d.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(Y({loading:!0})),t.next=4,N.post("authentication/account-reset",{email:a.email});case 4:n=t.sent,f({payloadType:"success",textString:n.data.message}),u(1),e(Y({loading:!1})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 14:case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){2!==o&&g("")}),[o]),Object(ie.jsxs)(V.a,{style:{minHeight:"100vh",overflow:"hidden"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:10},style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px"},children:Object(ie.jsxs)("div",{style:{position:"relative",height:"100%",width:"100%",maxWidth:"1000px",maxHeight:"1000px",border:"none",padding:0,margin:0,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(ie.jsx)("img",{src:we,style:{position:"absolute",top:t<=4?"7.5%":"15%",right:t<=4?"-4%":"-6%",height:t<=5?"75px":"100px",width:t<=5?"75px":"100px",zIndex:2},alt:""}),Object(ie.jsx)("img",{src:we,style:{position:"absolute",bottom:t<=4?"7.5%":"15%",left:t<=4?"-4%":"-3%",height:t<=5?"75px":"100px",width:t<=5?"75px":"100px",zIndex:2},alt:""}),Object(ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsx)("img",{src:Se,alt:"",style:{height:t>=5?"100px":"70px",width:t>=5?"130px":"100px",marginRight:"10%"},onClick:function(){window.open("https://silangmedical.com/","_blank")}}),Object(ie.jsx)("div",{style:{backgroundColor:"#AD72B7",marginBottom:t>=6?"5%":"8%",flex:1,borderRadius:"0 0 0 15px"}})]}),1===o&&Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(ie.jsx)("h1",{style:{fontSize:"50px",color:"black",lineHeight:"5px"},children:"Welcome"}),Object(ie.jsx)("p",{style:{fontSize:"12px",fontWeight:600,color:"#AD72B7",padding:t>=2?"10px 60px 0 60px":"0px 30px",textAlign:"center"},children:"By accessing the Silang Medical Services Portal, you will have access to all participating data and accepting the Rules and Conditions."})]}),Object(ie.jsxs)(z.a,{onFinish:X,layout:t>=3?"horizontal":"vertical",style:{padding:t>=2?"20px 60px 0 60px":"0px 30px"},children:[Object(ie.jsx)(z.a.Item,{name:"email",label:"Email Address",tooltip:"Typically used hosting address is @gmail.com",rules:[{type:"email",message:"Input is not a valid Email!"},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{prefix:Object(ie.jsx)(xe.a,{className:"site-form-item-icon"})})}),Object(ie.jsx)(z.a.Item,{label:"Password",name:"password",tooltip:"Please ensure that no one is behind you.",rules:[{required:!0,message:"Please input your password!"}],children:Object(ie.jsx)(G.a.Password,{prefix:Object(ie.jsx)(ve.a,{className:"site-form-item-icon"})})}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",block:!0,style:{marginTop:"10px"},children:"Sign-in"})]}),Object(ie.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"20px"},children:Object(ie.jsxs)("p",{style:{fontSize:"11px",fontWeight:600,color:"gray"},children:["Request for threshold reset? Create a ",Object(ie.jsx)("span",{style:{color:"#001529",cursor:"default"},onClick:function(){u(4)},children:"ticket request here"}),"."]})})]}),2===o&&Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(ie.jsx)("h1",{style:{fontSize:"50px",color:"black",lineHeight:"5px"},children:"PIN Verification"}),Object(ie.jsx)("p",{style:{fontSize:"12px",fontWeight:600,color:"#AD72B7",padding:t>=2?"10px 60px 0 60px":"0px 30px",textAlign:"center"},children:"By accessing the Silang Medical Services Portal, you will have access to all participating data and accepting the Rules and Conditions."})]}),Object(ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:t>=2?"10px 60px 0 60px":"0px 30px"},children:[Object(ie.jsx)(he.a,{length:6,focus:!0,initialValue:m,onChange:function(e){g(e)},type:"numeric",inputMode:"number",inputStyle:{borderColor:"black"},inputFocusStyle:{borderColor:"#AD72B7"},autoSelect:!0,regexCriteria:/^[0-9]*$/}),Object(ie.jsxs)(V.a,{align:"middle",justify:"center",gutter:[50,50],style:{width:"100%",marginTop:"20px"},children:[Object(ie.jsx)(Q.a,{children:Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",block:!0,onClick:function(){u(1)},children:"Return to sign-in"})}),Object(ie.jsx)(Q.a,{children:Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",block:!0,disabled:6!==m.length,onClick:function(){$(m)},children:"Submit"})})]})]})]}),3===o&&Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(ie.jsx)("h1",{style:{fontSize:"50px",color:"black",lineHeight:"5px"},children:"Reset Password"}),Object(ie.jsx)("p",{style:{fontSize:"12px",fontWeight:600,color:"#AD72B7",padding:t>=2?"10px 60px 0 60px":"0px 30px",textAlign:"center"},children:"By accessing the Silang Medical Services Portal, you will have access to all participating data and accepting the Rules and Conditions."})]}),Object(ie.jsxs)(z.a,{onFinish:J,layout:t>=3?"horizontal":"vertical",style:{padding:t>=2?"20px 60px 0 60px":"0px 30px"},children:[Object(ie.jsx)(z.a.Item,{name:"email",label:"Email Address",tooltip:"Typically used hosting address is @gmail.com",rules:[{type:"email",message:"Input is not a valid Email!"},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{prefix:Object(ie.jsx)(xe.a,{className:"site-form-item-icon"})})}),Object(ie.jsx)(z.a.Item,{label:"New Password",name:"password",tooltip:"Please ensure that no one is behind you.",rules:[{required:!0,message:"Please input your password!"},{min:5,message:"Password length must be 5 characters long or longer"}],children:Object(ie.jsx)(G.a.Password,{prefix:Object(ie.jsx)(ve.a,{className:"site-form-item-icon"})})}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)(H.a,{type:"default",onClick:function(){u(1)},block:!0,style:{marginTop:"10px",width:"40%",marginRight:"30px"},children:"Return"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",block:!0,style:{marginTop:"10px"},children:"Request change password"})]})]})]}),4===o&&Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(ie.jsx)("h1",{style:{fontSize:"50px",color:"black",lineHeight:"5px"},children:"Threshold Reset"}),Object(ie.jsx)("p",{style:{fontSize:"12px",fontWeight:600,color:"#AD72B7",padding:t>=2?"10px 60px 0 60px":"0px 30px",textAlign:"center"},children:"By accessing the Silang Medical Services Portal, you will have access to all participating data and accepting the Rules and Conditions."})]}),Object(ie.jsxs)(z.a,{onFinish:ee,layout:t>=3?"horizontal":"vertical",style:{padding:t>=2?"20px 60px 0 60px":"0px 30px"},children:[Object(ie.jsx)(z.a.Item,{name:"email",label:"Email Address",tooltip:"Typically used hosting address is @gmail.com",rules:[{type:"email",message:"Input is not a valid Email!"},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{prefix:Object(ie.jsx)(xe.a,{className:"site-form-item-icon"})})}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)(H.a,{type:"default",onClick:function(){u(1)},block:!0,style:{marginTop:"10px",width:"40%",marginRight:"30px"},children:"Return"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",block:!0,style:{marginTop:"10px"},children:"Request threshold reset"})]})]})]}),5===o&&Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(ie.jsx)("h1",{style:{fontSize:"50px",color:"black",lineHeight:"5px"},children:"Set Password"}),Object(ie.jsx)("p",{style:{fontSize:"12px",fontWeight:600,color:"#AD72B7",padding:t>=2?"10px 60px 0 60px":"0px 30px",textAlign:"center"},children:"By accessing the Silang Medical Services Portal, you will have access to all participating data and accepting the Rules and Conditions."})]}),Object(ie.jsxs)(z.a,{layout:t>=3?"horizontal":"vertical",style:{padding:t>=2?"20px 60px 0 60px":"0px 30px"},onFinish:null===r.get("reset")?K:Z,onValuesChange:function(e){var t=e.password,a=e.confirm_password;Object(E.a)(e,ke);void 0!==t?D(Object(P.a)(Object(P.a)({},k),{},{password:t})):void 0!==a&&D(Object(P.a)(Object(P.a)({},k),{},{confirm_password:a}))},children:[Object(ie.jsx)(z.a.Item,{name:"password",label:"Password",tooltip:"Typically used hosting address is @gmail.com",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a.Password,{prefix:Object(ie.jsx)(ve.a,{className:"site-form-item-icon"})})}),Object(ie.jsx)(z.a.Item,{name:"confirm_password",label:"Confrim Password",tooltip:"Please ensure that no one is behind you.",rules:[{required:!0,message:"Please input your password!"}],children:Object(ie.jsx)(G.a.Password,{prefix:Object(ie.jsx)(ve.a,{className:"site-form-item-icon"})})}),Object(ie.jsxs)("div",{style:{display:"flex"},children:[Object(ie.jsx)(H.a,{type:"default",onClick:function(){u(1)},block:!0,style:{marginTop:"10px",width:"40%",marginRight:"30px"},children:"Return"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",block:!0,disabled:F,style:{marginTop:"10px"},children:"Set password"})]})]})]}),Object(ie.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"20px"},children:[Object(ie.jsx)("img",{src:Ae,style:{height:"85px",width:"85px",marginRight:"20px"},alt:""}),Object(ie.jsx)("img",{src:ce,style:{height:"85px",width:"85px"},alt:""})]})]})}),Object(ie.jsx)(Q.a,{xs:{span:0},sm:{span:0},md:{span:0},lg:{span:0},xl:{span:14},children:Object(ie.jsx)(fe.a,{effect:"fade",children:[{src:Ce},{src:Ce},{src:Ce}].map((function(e,a){return Object(ie.jsx)("div",{style:{backgroundColor:"red"},children:Object(ie.jsx)("div",{style:{backgroundImage:'url("'.concat(e.src,'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPositionY:"50%",backgroundPositionX:t<=4?"50%":"none",filter:"blur(1px)"},children:Object(ie.jsx)("div",{style:{height:"100%",width:"100%",background:"linear-gradient(360deg, rgba(255,255,255,0.3), rgba(255,255,255,0.3), rgba(255,255,255,0))"}})})},a)}))})})]})},Te=a(1210),Ie=(a(952),function(){var e=Object(c.c)((function(e){return e.user})).barangay,t=Object(c.b)(),a=Object(n.useState)(),s=Object(p.a)(a,2),i=s[0],l=s[1],u=Object(n.useState)([]),b=Object(p.a)(u,2),m=b[0],h=b[1],g=Object(n.useState)([]),O=Object(p.a)(g,2),y=O[0],v=O[1],C=Object(n.useState)([]),A=Object(p.a)(C,2),w=A[0],S=A[1],k=Object(n.useState)([]),D=Object(p.a)(k,2),T=D[0],I=D[1],M=function(){var a=Object(d.a)(j.a.mark((function a(){var n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(Y({loading:!0})),a.next=4,N.get("dashboard/default?barangay=".concat(e));case 4:n=a.sent,l(n.data.payload.table),h(n.data.payload.events),v(n.data.payload.announcements),S(n.data.payload.records),I(n.data.payload.latestComments),t(Y({loading:!1})),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),t(Y({loading:!1})),a.t0.response?f({payloadType:"error",textString:a.t0.response.data.message}):f({payloadType:"error",textString:a.t0.message});case 17:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){M()}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Dashboard | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 10px 0px 10px",borderRadius:"5px"},children:Object(ie.jsx)(be.b,{grid:{gutter:16,xs:1,sm:1,md:1,lg:3,xl:3,xxl:3},dataSource:i,renderItem:function(e,t){return Object(ie.jsx)(be.b.Item,{children:Object(ie.jsxs)(Z.a,{style:{minHeight:"175px",position:"relative",backgroundColor:t%2?"#8C5C94":"#AD72B7",borderRadius:"5px",overflow:"hidden"},children:[Object(ie.jsx)("p",{style:{position:"absolute",fontSize:"18px",bottom:-10,left:20,color:"white",fontWeight:500},children:e.title}),Object(ie.jsx)("p",{style:{position:"absolute",top:0,left:"40%",color:"white",fontWeight:500,fontSize:"100px",zIndex:10},children:e.count}),Object(ie.jsx)("p",{style:{position:"absolute",top:-12.5,left:"40%",color:t%2?"#A76FB0":"#D488E1",fontWeight:500,fontSize:"120px"},children:e.count})]})})}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px",marginTop:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(V.a,{gutter:[24,0],children:[Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)(W.a,{orientation:"left",style:{fontSize:"18px",color:"black",fontWeight:500},children:"Latest Events"}),0!==m.length&&Object(ie.jsx)(Te.a,{className:"default-collapse",children:m.map((function(e,t){return Object(ie.jsxs)(Te.a.Panel,{header:e.event,style:{backgroundColor:"#A76FB0"},children:[Object(ie.jsx)("p",{children:Object(ie.jsx)("span",{style:{fontWeight:500},children:"Description:"})}),Object(ie.jsx)("p",{className:"display-linebreak",children:e.description}),Object(ie.jsxs)("p",{children:[Object(ie.jsx)("span",{style:{fontWeight:500},children:"Event Date/Time:"})," ",oe()(e.start_datetime).format("MMM DD,YYYY h:mm A")]})]},t)}))}),0===m.length&&Object(ie.jsx)(x.a,{description:"Currently no event listed."}),Object(ie.jsx)(W.a,{orientation:"left",style:{fontSize:"18px",color:"black",fontWeight:500},children:"Latest Announcements"}),0!==y.length&&Object(ie.jsx)(Te.a,{className:"default-collapse",children:y.map((function(e,t){return Object(ie.jsxs)(Te.a.Panel,{header:e.announcement,style:{backgroundColor:"#A76FB0"},children:[Object(ie.jsx)("p",{children:Object(ie.jsx)("span",{style:{fontWeight:500},children:"Message:"})}),Object(ie.jsx)("p",{className:"display-linebreak",children:e.message}),Object(ie.jsxs)("p",{children:[Object(ie.jsx)("span",{style:{fontWeight:500},children:"Announcement Date:"})," ",oe()(e.announcement_datetime).format("MMM DD,YYYY")]})]},t)}))}),0===y.length&&Object(ie.jsx)(x.a,{description:"Currently no announcement listed."}),Object(ie.jsx)(W.a,{orientation:"left",style:{fontSize:"18px",color:"black",fontWeight:500},children:"Latest Analytics Comments"}),0!==T.length&&Object(ie.jsx)(Te.a,{className:"default-collapse",children:T.map((function(e,t){return Object(ie.jsxs)(Te.a.Panel,{header:e.author,style:{backgroundColor:"#A76FB0"},children:[Object(ie.jsx)("p",{children:Object(ie.jsx)("span",{style:{fontWeight:500},children:"Message:"})}),Object(ie.jsx)("p",{className:"display-linebreak",children:e.comment}),Object(ie.jsxs)("p",{children:[Object(ie.jsx)("span",{style:{fontWeight:500},children:"Record:"})," ",e.year," - ",e.month]})]},t)}))}),0===T.length&&Object(ie.jsx)(x.a,{description:"Currently no analytics comments listed."})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)(W.a,{orientation:"left",style:{fontSize:"18px",color:"black",fontWeight:500},children:"Recent Patients"}),0!==w.length&&Object(ie.jsx)(be.b,{itemLayout:"horizontal",dataSource:w,renderItem:function(e){return Object(ie.jsx)(be.b.Item,{children:Object(ie.jsx)(be.b.Item.Meta,{title:Object(ie.jsxs)("p",{style:{fontSize:"16px",fontWeight:500},children:[e.first_name," ",e.last_name]}),description:e.detailed_report})})}}),0===w.length&&Object(ie.jsx)(x.a,{description:"Currently no medical record listed."})]})]})})]})}),Me=a(1214),_e=a(1195);var Be=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})),a=t.barangay,s=t.designation,i=Object(c.b)(),l=Object(q.h)(),u=Object(n.useState)([]),b=Object(p.a)(u,2),x=b[0],m=b[1],h=Object(n.useState)([]),g=Object(p.a)(h,2),O=g[0],y=g[1],v=Object(n.useState)([]),C=Object(p.a)(v,2),A=C[0],w=C[1],S=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i(Y({loading:!0})),"Doctor"===s){e.next=9;break}return e.next=5,N.get("analytics/?barangay=".concat(a));case 5:t=e.sent,m(t.data.payload),e.next=17;break;case 9:return e.next=11,N.get("analytics/?barangay=Lumil");case 11:return n=e.sent,y(n.data.payload),e.next=15,N.get("analytics/?barangay=Puting Kahoy");case 15:r=e.sent,w(r.data.payload);case 17:i(Y({loading:!1})),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),i(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){S()}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Analytics | Portal Silang Medical Services"})}),"Doctor"!==s&&Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Yearly Analytics",subTitle:e>=4?"Contains the analytics for Barangay ".concat(a,"."):"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(_e.a,{height:500,width:500,data:x,xField:"datetime",yField:"value",seriesField:"category",slider:{start:.1,end:.9},onReady:function(e){e.on("axis-label:click",(function(e){!0===Number.isNaN(Number(e.gEvent.target.attrs.text))&&l({pathname:"/dashboard/analytics/".concat(e.gEvent.target.attrs.text.split(" ")[0],"/").concat(e.gEvent.target.attrs.text.split(" ")[2])})}))},loading:!1})}),Object(ie.jsx)(ue.a.Content,{style:{marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(X.a,{message:"To see the specific data for a pertaining year and month, please select the 'Year and Month' below the graph.",type:"info",closeText:"Close Now"})})]}),"Doctor"===s&&Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(ue.a.Content,{style:{marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(X.a,{message:"To see the specific data for a pertaining year and month, please select the 'Year and Month' below the graph.",type:"info",closeText:"Close Now"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Lumil Analytics",subTitle:e>=4?"Contains the analytics for Barangay Lumil":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(_e.a,{height:500,width:500,data:O,xField:"datetime",yField:"value",seriesField:"category",slider:{start:.1,end:.9},onReady:function(e){e.on("axis-label:click",(function(e){l({pathname:"/dashboard/analytics/".concat(e.gEvent.target.attrs.text.split(" ")[0],"/").concat(e.gEvent.target.attrs.text.split(" ")[2],"?barangay=Lumil")})}))},loading:!1})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Puting Kahoy Analytics",subTitle:e>=4?"Contains the analytics for Barangay Puting Kahoy":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(_e.a,{height:500,width:500,data:A,xField:"datetime",yField:"value",seriesField:"category",slider:{start:.1,end:.9},onReady:function(e){e.on("axis-label:click",(function(e){l({pathname:"/dashboard/analytics/".concat(e.gEvent.target.attrs.text.split(" ")[0],"/").concat(e.gEvent.target.attrs.text.split(" ")[2],"?barangay=Puting Kahoy")})}))},loading:!1})})]})]})},Ye=a(1197),Re=a(1196),qe=a(1206),Pe=a(1228),Ee=(a(959),function(e){var t=e.comments,a=e.author,n=e.onClick;return Object(ie.jsx)(be.b,{dataSource:t,itemLayout:"horizontal",renderItem:function(e){return Object(ie.jsx)(Re.a,Object(P.a)(Object(P.a)({},e),{},{style:{position:"relative"},actions:Object(de.a)(e.author==="".concat(a.first_name," ").concat(a.last_name)?[Object(ie.jsx)(K.a,{title:"Remove Comment",children:Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Pe.a,{}),onClick:function(){n(e._id)},type:"primary",style:{position:"absolute",top:0,bottom:0,margin:"auto 0",right:0}})})]:[Object(ie.jsx)(r.a.Fragment,{})])}))}})}),Fe=function(e){var t=e.onChange,a=e.onSubmit,n=e.submitting,r=e.value;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(z.a.Item,{rules:[{required:!0,message:"Please fill out this field!"}],children:Object(ie.jsx)(G.a.TextArea,{rows:4,onChange:t,value:r})}),Object(ie.jsx)(z.a.Item,{children:Object(ie.jsx)(H.a,{htmlType:"submit",loading:n,onClick:a,style:{margin:"0"},type:"primary",children:"Add Comment"})})]})},Ne=function(){var e=Object(q.h)(),t=Object(c.c)((function(e){return e.web})),a=t.dimension,s=Object(c.c)((function(e){return e.user})),i=s.barangay,u=s.first_name,b=s.last_name,x=s.designation,m=Object(q.i)(),h=Object(l.b)(),g=Object(p.a)(h,1)[0],O=Object(c.b)(),y=Object(n.useState)([]),v=Object(p.a)(y,2),C=v[0],A=v[1],w=Object(n.useState)({mild:0,moderate:0,severe:0}),S=Object(p.a)(w,2),k=S[0],D=S[1],T=Object(n.useState)({mild:[],moderate:[],severe:[]}),I=Object(p.a)(T,2),M=I[0],_=I[1],B=Object(n.useState)([]),R=Object(p.a)(B,2),E=R[0],F=R[1],z=Object(n.useState)([]),L=Object(p.a)(z,2),U=L[0],H=L[1],K=Object(n.useState)({comments:[],value:""}),J=Object(p.a)(K,2),X=J[0],G=J[1],$=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(Y({loading:!0})),e.next=4,N.get("analytics/specific-comments?barangay=".concat("Doctor"===x?g.get("barangay"):i,"&year=").concat(m.year,"&month=").concat(m.month));case 4:t=e.sent,G((function(e){return Object(P.a)(Object(P.a)({},e),{},{comments:t.data.comments})})),O(Y({loading:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),O(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(Y({loading:!0})),e.next=4,N.post("analytics/add-comments?barangay=".concat("Doctor"===x?g.get("barangay"):i,"&year=").concat(m.year,"&month=").concat(m.month,"&comment=").concat(X.value,"&author=").concat(u," ").concat(b));case 4:t=e.sent,f({payloadType:"success",textString:t.data.message}),G(Object(P.a)(Object(P.a)({},X),{},{value:""})),$(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),O(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(Y({loading:!0})),e.next=4,N.patch("analytics/remove-comments?_id=".concat(t));case 4:a=e.sent,f({payloadType:"success",textString:a.data.message}),$(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),O(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(Y({loading:!0})),e.next=4,N.get("analytics/specific?barangay=".concat("Doctor"===x?g.get("barangay"):i,"&year=").concat(m.year,"&month=").concat(m.month));case 4:t=e.sent,A(t.data.payload),G((function(e){return Object(P.a)(Object(P.a)({},e),{},{comments:t.data.comments})})),F(t.data.ageCategory),H(t.data.genderEvaluated),D(t.data.severityCount),_(t.data.severityList),O(Y({loading:!1})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),O(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){ae()}),[]);var ne={tooltip:!1,plots:[{type:"bar",region:{start:{x:0,y:0},end:{x:a>=4?.45:1,y:a>=4?.45:.25}},options:{data:E,xField:"count",yField:"category",seriesField:"category",isStack:!0,tooltip:{shared:!0,showCrosshairs:!1,showMarkers:!1},label:{},interactions:[{type:"active-region"}]}},{type:"pie",region:{start:{x:0,y:.5},end:{x:1,y:.95}},options:{data:C,tooltip:{showMarkers:!0},appendPadding:0,angleField:"value",colorField:"type",radius:.8,label:{type:"outer",content:"{name} {percentage}"},interactions:[{type:"element-active"},{type:"pie-legend-active"},{type:"association-tooltip",cfg:{start:[{trigger:"element:mousemove",action:"association:showTooltip",arg:{dim:"x",linkField:"area"}}]}},{type:"association-highlight",cfg:{start:[{trigger:"element:mousemove",action:"association:highlight",arg:{linkField:"area"}}]}}]}},{type:"column",region:{start:{x:a>=4?.5:0,y:a>=4?0:.3},end:{x:1,y:a>=4?.45:.5}},options:{data:U,xField:"category",yField:"count",seriesField:"category",line:{},point:{style:{r:2.5}},meta:{time:{range:[0,1]}},smooth:!0,tooltip:{showCrosshairs:!0,shared:!0}}}]};return Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Analytics | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"".concat(m.month," ").concat(m.year," - Analytics"),subTitle:a>=4?"Contains the analytics for Barangay ".concat(i,"."):"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Ye.a,Object(P.a)(Object(P.a)({},ne),{},{height:700}))}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Z.a,{title:"Severity Count",bordered:!1,style:{width:"100%"},children:Object(ie.jsxs)(V.a,{children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:8},children:Object(ie.jsx)(qe.a,{title:"Mild",value:k.mild})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:8},children:Object(ie.jsx)(qe.a,{title:"Moderate",value:k.moderate})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:8},children:Object(ie.jsx)(qe.a,{title:"Severe",value:k.severe})})]})})}),Object(ie.jsxs)(V.a,{gutter:[24,24],children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:8},children:Object(ie.jsxs)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:[Object(ie.jsx)(W.a,{orientation:"left",children:"Mild"}),Object(ie.jsx)(be.b,{size:"large",dataSource:M.mild,renderItem:function(t){return Object(ie.jsx)(be.b.Item,{style:{cursor:"pointer"},onClick:function(){e({pathname:"/dashboard/medical-records/view/".concat(t.id)})},children:t.patient})}})]})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:8},children:Object(ie.jsxs)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:[Object(ie.jsx)(W.a,{orientation:"left",children:"Moderate"}),Object(ie.jsx)(be.b,{size:"large",dataSource:M.moderate,renderItem:function(t){return Object(ie.jsx)(be.b.Item,{style:{cursor:"pointer"},onClick:function(){e({pathname:"/dashboard/medical-records/view/".concat(t.id)})},children:t.patient})}})]})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:8},children:Object(ie.jsxs)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:[Object(ie.jsx)(W.a,{orientation:"left",children:"Severe"}),Object(ie.jsx)(be.b,{size:"large",dataSource:M.severe,renderItem:function(t){return Object(ie.jsx)(be.b.Item,{style:{cursor:"pointer"},onClick:function(){e({pathname:"/dashboard/medical-records/view/".concat(t.id)})},children:t.patient})}})]})})]}),Object(ie.jsxs)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:[Object(ie.jsx)(W.a,{orientation:"left",style:{fontSize:"18px",color:"black",fontWeight:500},children:"Comments"}),Object(ie.jsx)(Ee,{comments:X.comments,author:{first_name:u,last_name:b},onClick:te})]}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px 0 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Re.a,{content:Object(ie.jsx)(Fe,{onChange:function(e){G(Object(P.a)(Object(P.a)({},X),{},{value:e.target.value}))},onSubmit:function(){console.log(X.value.length),0!==X.value.length?ee():f({payloadType:"error",textString:"Comment message is empty"})},value:X.value})})})]})},ze=a(171),Le=a(726),Ue=a(1229),Ve=a(1230),Qe=a(1231),We=a(1232),He=a(715),Ze=a.n(He),Ke=a(716),Je=a.n(Ke),Xe=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})),a=t.barangay,s=t.designation,i=t.first_name,l=t.last_name,u=Object(q.h)(),b=Object(c.b)(),x=Object(n.useState)([]),m=Object(p.a)(x,2),h=m[0],g=m[1],O=[{title:"Full Name",dataIndex:"full_name",key:"full_name ",render:function(e){return Object(ie.jsx)("p",{children:e})}},{title:"Diagnosis",dataIndex:"diagnosis",key:"diagnosis"},{title:"Status",key:"status",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:Object(ie.jsx)("p",{children:!0===e.status?"Medical Record has been reviewed.":"Awaiting for review."})})},responsive:["lg"]},{title:"Severity",key:"tags",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:Object(ie.jsx)(Le.a,{color:e.outlier>=8?"#fb6666":e.outlier>=5?"#ffc04c":"#abde95",children:e.outlier>=8?"Severe":e.outlier>=5?"Moderate":"Mild"})})}},{title:"Date Created",key:"dateCreated",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:oe()(e.createdAt).format("MMMM DD,YYYY h:mm A")})},responsive:["lg"]}].concat(Object(de.a)("Doctor"===s?[{title:"Barangay",key:"baranay",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:e.barangay})},responsive:["lg"]}]:[{responsive:["xll"]}]),[{title:"Action",key:"action",render:function(e,t){return!0===e.disable?Object(ie.jsx)(pe.b,{size:"middle",children:Object(ie.jsxs)(Le.a,{color:"#fb6666",children:["Disabled by ",Object(ie.jsx)("p",{style:{padding:0,margin:0},children:e.disabledBy})]})}):Object(ie.jsxs)(pe.b,{size:"middle",children:[Object(ie.jsx)(K.a,{title:"View Medical Record",children:Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Ue.a,{}),onClick:function(){u({pathname:"/dashboard/medical-records/view/".concat(e._id)})},type:"primary"})}),"Doctor"===s&&Object(ie.jsx)(K.a,{title:"Update Medical Record",children:Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Ve.a,{}),onClick:function(){u({pathname:"/dashboard/medical-records/update/".concat(e._id)})},type:"primary",style:{background:"orange",borderColor:"white"}})}),!0!==e.status&&"Nurse"===s&&Object(ie.jsx)(K.a,{title:"Update Medical Record",children:Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Ve.a,{}),onClick:function(){u({pathname:"/dashboard/medical-records/update/".concat(e._id)})},type:"primary",style:{background:"orange",borderColor:"white"}})}),!0!==e.status&&"Doctor"===s&&Object(ie.jsx)(K.a,{title:"Approve Medical Record",children:Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Ve.a,{}),onClick:function(){var t=function(){var t=Object(d.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(Y({loading:!0})),t.next=4,N.patch("medical-record/private/update-record",{status:!0,approvedBy:"".concat(i," ").concat(l," (").concat(s,")"),id:e._id});case 4:a=t.sent,b(Y({loading:!1})),f({payloadType:"success",textString:a.data.message}),y(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),b(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()},type:"primary",style:{background:"green",borderColor:"white"}})}),"Doctor"===s&&Object(ie.jsx)(K.a,{title:"Delete Medical Record",children:Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Qe.a,{}),onClick:function(){var t=function(){var t=Object(d.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(Y({loading:!0})),t.next=4,N.patch("medical-record/private/update-record",{id:e._id,disable:!0,disabledBy:"".concat(i," ").concat(l," (").concat(s,") ")});case 4:a=t.sent,b(Y({loading:!1})),f({payloadType:"success",textString:a.data.message}),y(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),b(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()},type:"primary",style:{background:"red",borderColor:"white"}})}),!0!==e.status&&"Nurse"===s&&Object(ie.jsx)(K.a,{title:"Delete Medical Record",children:Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Qe.a,{}),onClick:function(){var t=function(){var t=Object(d.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(Y({loading:!0})),t.next=4,N.patch("medical-record/private/update-record",{id:e._id,disable:!0});case 4:a=t.sent,b(Y({loading:!1})),f({payloadType:"success",textString:a.data.message}),y(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),b(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()},type:"primary",style:{background:"red",borderColor:"white"}})}),!0===e.request_change&&"Doctor"===s&&Object(ie.jsx)(K.a,{title:"PIN Renewal Approval",children:Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(We.a,{}),onClick:function(){var t=function(){var t=Object(d.a)(j.a.mark((function t(){var a,n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(Y({loading:!0})),a=e._id.toString().split(""),n=function(){return Math.floor(Math.random()*a.length)},t.next=6,N.patch("medical-record/private/update-record",{id:e._id,request_change:!1,pin:"".concat(a[n()]).concat(a[n()]).concat(a[n()]).concat(a[n()]).concat(a[n()]).concat(a[n()])});case 6:r=t.sent,b(Y({loading:!1})),f({payloadType:"success",textString:r.data.message}),y(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),b(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t()},type:"primary",style:{background:"#abde95",borderColor:"white"}})}),!0===e.request_change&&"Nurse"===s&&Object(ie.jsx)(K.a,{title:"PIN Renewal Approval",children:Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(We.a,{}),onClick:function(){var t=function(){var t=Object(d.a)(j.a.mark((function t(){var a,n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(Y({loading:!0})),a=e._id.toString().split(""),n=function(){return Math.floor(Math.random()*a.length)},t.next=6,N.patch("medical-record/private/update-record",{id:e._id,request_change:!1,pin:"".concat(a[n()]).concat(a[n()]).concat(a[n()]).concat(a[n()]).concat(a[n()]).concat(a[n()])});case 6:r=t.sent,b(Y({loading:!1})),f({payloadType:"success",textString:r.data.message}),y(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),b(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t()},type:"primary",style:{background:"#abde95",borderColor:"white"}})})]})}}]),y=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(Y({loading:!0})),e.next=4,N.get("medical-record/private/officer?barangay=".concat(a,"&designation=").concat(s));case 4:t=e.sent,n=t.data.payload.map((function(e){return{full_name:"".concat(e.first_name," ").concat(e.last_name),email:e.email,phone_number:e.phone_number,diagnosis:e.diagnosis,detailed_report:e.detailed_report,outlier:e.outlier,createdAt:e.createdAt,status:e.status,_id:e._id,barangay:e.barangay,disable:e.disable,disabledBy:e.disabledBy,request_change:e.request_change}})),g(n),b(Y({loading:!1})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),b(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y()}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Medical Record | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Medical Record",subTitle:e>=4?"All medical records under Barangay ".concat(a,"."):"",style:{padding:0,backgroundColor:"#AD72B7"},extra:"Doctor"===s||"Nurse"===s?[Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Ue.a,{}),onClick:function(){u({pathname:"/dashboard/medical-records/create"})},style:{color:"#AD72B7"},children:"Create Record"},"3")]:"Chairman"===s?[Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Ue.a,{}),onClick:Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Y({loading:!0})),e.next=3,N.post("export/records-csv",{first_name:i,last_name:l,designation:s});case 3:t=e.sent,n=function(){var e=new Ze.a.Workbook;e.company="Silang Medical Services",e.title="Silang Medical Services - Medical Records Data",e.category="Health Information and Communication",e.description=t.data.payload,e.creator="Silang Medical Services - ".concat(l,", ").concat(i," (").concat(a," - ").concat(s,") - "),e.lastModifiedBy="".concat(l,", ").concat(i," (").concat(a," - ").concat(s,")"),e.created=new Date,e.modified=new Date,e.lastPrinted=new Date,e.properties.date1904=!0;var n=e.addWorksheet("Medical Records Active");n.views=[{x:0,y:0,width:1e4,height:2e4,firstSheet:0,activeTab:1,visibility:"visible"}],n.columns=[{header:"System ID",key:"id"},{header:"Barangay",key:"barangay"},{header:"Name",key:"name"},{header:"Phone Number",key:"phone_number"},{header:"Email Address",key:"email"},{header:"Diagnosis",key:"diagnosis"},{header:"Diagnosis Report",key:"report"},{header:"Severity (Scale 1 - 10)",key:"severity"},{header:"Date of Creation",key:"doc",type:"date"},{header:"Status",key:"status"}];var r=e.addWorksheet("Medical Records Disabled");r.views=[{x:0,y:0,width:1e4,height:2e4,firstSheet:0,activeTab:1,visibility:"visible"}],r.columns=[{header:"System ID",key:"id"},{header:"Barangay",key:"barangay"},{header:"Name",key:"name"},{header:"Phone Number",key:"phone_number"},{header:"Email Address",key:"email"},{header:"Diagnosis",key:"diagnosis"},{header:"Diagnosis Report",key:"report"},{header:"Severity (Scale 1 - 10)",key:"severity"},{header:"Date of Creation",key:"doc",type:"date"},{header:"Status",key:"status"}],h.map((function(e){return void 0===e.disabledBy?n.addRow({id:e._id,barangay:e.barangay,name:e.full_name,phone_number:e.phone_number,email:e.email,diagnosis:e.diagnosis,report:e.detailed_report,severity:e.outlier,doc:oe()(e.createdAt).format("MMMM DD,YYYY"),status:"true"}):r.addRow({id:e._id,barangay:e.barangay,name:e.full_name,phone_number:e.phone_number,email:e.email,diagnosis:e.diagnosis,report:e.detailed_report,severity:e.outlier,doc:oe()(e.createdAt).format("MMMM DD,YYYY"),status:"Disabled by ".concat(e.disabledBy)}),!0})),n.protect("teamcapbi",{formatCells:!0,formatColumns:!0,formatRows:!0,insertRows:!0,insertColumns:!1,insertHyperlinks:!0,deleteRows:!0,deleteColumns:!1,sort:!0,autoFilter:!0}),r.protect("teamcapbi",{formatCells:!0,formatColumns:!0,formatRows:!0,insertRows:!0,insertColumns:!1,insertHyperlinks:!0,deleteRows:!0,deleteColumns:!1,sort:!0,autoFilter:!0}),b(Y({loading:!1})),e.xlsx.writeBuffer().then((function(e){Je()(new Blob([e],{type:"application/octet-stream"}),"Silang Medical Services - Medical Records.xlsx")}))},setTimeout((function(){n()}),200);case 6:case"end":return e.stop()}}),e)}))),style:{color:"#AD72B7"},children:"Export Medical Records"},"3")]:[]})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(ze.a,{columns:O,dataSource:h,scroll:{x:500},searchable:!0,searchableProps:{fuzzySearch:!0}})})]})},Ge=a(1198),$e=a(487),et=["prefix","phone_number"],tt=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})),a=t.designation,s=t.barangay,i=t.first_name,l=t.last_name,u=Object(c.b)(),b=z.a.useForm(),x=Object(p.a)(b,1)[0],m=Object(q.h)(),h=Object(n.useState)([]),g=Object(p.a)(h,2),O=g[0],y=g[1],v=Object(n.useState)([]),C=Object(p.a)(v,2),A=C[0],w=C[1],S=Object(n.useState)(!1),k=Object(p.a)(S,2),D=k[0],T=k[1],I=Object(n.useState)({}),M=Object(p.a)(I,2),_=M[0],B=M[1],R=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r,s,i,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.prefix,r=t.phone_number,s=Object(E.a)(t,et),e.prev=1,u(Y({loading:!0})),0===O.filter((function(e){return""===e.dosage||""===e.prescription})).length){e.next=8;break}throw(i=new Error("Please complete the prescription details!")).statusCode=501,i;case 8:return s.prescription=O,s.status="Doctor"===a,s.phone_number=n+r,e.next=14,N.post("medical-record/private/create",s);case 14:c=e.sent,u(Y({loading:!1})),f({payloadType:"success",textString:c.data.message}),m({pathname:"/dashboard/medical-records/view/".concat(c.data.payload._id)}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),u(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(Y({loading:!0})),e.next=4,N.get("medical-record/auto-complete?barangay=".concat(s));case 4:t=e.sent,w(t.data.payload),u(Y({loading:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(Y({loading:!1})),f({payloadType:"error",textString:"Auto complete currently not available"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Medical Record | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Create Medical Record",subTitle:e>=4?"Please fill-up everything before submitting.":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(z.a,{onFinish:function(e){T(!0),B(e)},layout:"vertical",form:x,children:[Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Patient Details"})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"first_name",label:"First Name",tooltip:"Individual's given birth first name",rules:[{required:!0,message:"Please fill out this field!"},{min:3,message:"Min length of 3 characters"}],required:!0,children:Object(ie.jsx)(G.a,{})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"last_name",label:"Last Name",tooltip:"Individual's given last name",rules:[{required:!0,message:"Please fill out this field!"},{min:3,message:"Min length of 3 characters"}],required:!0,children:Object(ie.jsx)(G.a,{})})}),Object(ie.jsx)(Q.a,{xs:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"gender",label:"Gender",tooltip:"Basis of user's sexual identity",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsxs)($.a,{children:[Object(ie.jsx)($.a.Option,{value:"Male",children:"Male"}),Object(ie.jsx)($.a.Option,{value:"Female",children:"Female"}),Object(ie.jsx)($.a.Option,{value:"Others",children:"Others"})]})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"date_of_birth",label:"Date of Birth",tooltip:"Citizen's birth date",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(te.a,{disabledDate:function(e){return e&&e>oe()().endOf("day")},format:"YYYY-MM-DD",style:{width:"100%"}})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"email",label:"Email",tooltip:"Individual's personal/private email address",rules:[{type:"email",message:"Input is not a valid Email!"},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"phone_number",label:"Phone Number",tooltip:"Individual's personal/private Phone Number",rules:[{message:"PH Number should start with 639 + the 9 numbers!",pattern:new RegExp(/^(\w{9})$/)},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{addonBefore:Object(ie.jsx)(z.a.Item,{name:"prefix",noStyle:!0,initialValue:"639",children:Object(ie.jsx)($.a,{children:Object(ie.jsx)($.a.Option,{value:"639",children:"+639"})})})})})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"barangay",label:"Barangay",tooltip:"Basis on which barangay the user is living",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,initialValue:s,children:Object(ie.jsxs)($.a,{disabled:"Doctor"!==a,children:[Object(ie.jsx)($.a.Option,{value:"Lumil",children:"Lumil"}),Object(ie.jsx)($.a.Option,{value:"Puting Kahoy",children:"Puting Kahoy"})]})})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"address",label:"Complete Address",tooltip:"Basis where the user is living",rules:[{required:!0,message:"Please fill out this field!"},{min:5,message:"Min length of 5 characters"}],required:!0,children:Object(ie.jsx)(G.a,{})})})]}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Diagnosis Details"})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"diagnosis",label:"Diagnosis",tooltip:"Individual's possible diagnosis",rules:[{required:!0,message:"Please fill out this field!"},{min:3,message:"Min length of 3 characters"}],required:!0,children:Object(ie.jsx)(Ge.a,{style:{width:"100%"},options:A,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"outlier",label:"Severity",tooltip:"Diagnosis severity score",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)($e.a,{marks:{1:{style:{color:"#abde95"},label:Object(ie.jsx)("strong",{children:"Mild"})},5:{style:{color:"#ffc04c"},label:Object(ie.jsx)("strong",{children:"Moderate"})},8:{style:{color:"#fb6666"},label:Object(ie.jsx)("strong",{children:"Severe"})}},max:10,min:1})})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"detailed_report",label:"Detailed Report",tooltip:"Written representation of the diagnosis",rules:[{required:!0,message:"Please fill out this field!"},{min:10,message:"Min length of 10 characters"}],required:!0,children:Object(ie.jsx)(G.a.TextArea,{autoSize:{minRows:10,maxRows:6}})})})]})}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px",position:"relative"},wrap:!1,children:[Object(ie.jsx)(Q.a,{flex:"auto",children:Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:1===e||0===e?"Prescription":"Prescription Details"})}),Object(ie.jsx)(Q.a,{flex:1===e||0===e?"85px":"165px",children:Object(ie.jsx)(H.a,{type:"primary",onClick:function(){y((function(e){return[].concat(Object(de.a)(e),[{prescription:"",dosage:""}])}))},style:{position:"absolute",top:0,bottom:0,margin:"auto 0"},children:1===e||0===e?"Add":"Add Prescription"})})]}),O.map((function(e,t){return Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px",position:"relative"},wrap:!1,children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"detailed_report",label:"Prescription ".concat(t+1),tooltip:"Prescription Listing",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsxs)(G.a.Group,{compact:!0,children:[Object(ie.jsx)(G.a,{style:{width:"70%"},placeholder:"Prescription",value:e.prescription,onChange:function(e){y((function(a){return a[t]=Object(P.a)(Object(P.a)({},a[t]),{},{prescription:e.target.value}),Object(de.a)(a)}))}}),Object(ie.jsx)(G.a,{style:{width:"20%"},placeholder:"Dose/Amount",value:e.dosage,onChange:function(e){y((function(a){return a[t]=Object(P.a)(Object(P.a)({},a[t]),{},{dosage:e.target.value}),Object(de.a)(a)}))}}),Object(ie.jsx)(K.a,{title:"Remove prescription",children:Object(ie.jsx)(H.a,{onClick:function(){y((function(e){return e.splice(t,1),Object(de.a)(e)}))},style:{width:"10%",backgroundColor:"#fb6666",color:"white"},children:"X"})})]})})})},t)}))]})]}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Record Details"})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"createdBy",label:"Record Creator",tooltip:"Creator's given birth first name",required:!0,initialValue:"".concat(i," ").concat(l," (").concat(a,")"),children:Object(ie.jsx)(G.a,{disabled:!0})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"approvedBy",label:"Record Approver",tooltip:"Approver's given birth first name",required:!0,initialValue:"Doctor"===a?"".concat(i," ").concat(l," (").concat(a,")"):"",children:Object(ie.jsx)(G.a,{disabled:!0})})})]}),Object(ie.jsxs)(z.a.Item,{style:{paddingTop:"20px"},children:[Object(ie.jsx)(H.a,{type:"default",style:{marginRight:e<=4?"10px":"20px"},onClick:function(){return x.resetFields(),void y([])},children:"Reset"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",children:"Submit"})]})]})}),Object(ie.jsx)(ae.a,{title:"Medical Record Confirmation",visible:D,onOk:function(){R(_)},onCancel:function(){T(!1)},children:Object(ie.jsxs)(ne.b,{bordered:!0,children:[Object(ie.jsxs)(ne.b.Item,{label:"Name",span:3,children:[_.first_name," ",_.last_name]}),Object(ie.jsx)(ne.b.Item,{label:"Email",span:3,children:_.email}),Object(ie.jsxs)(ne.b.Item,{label:"Phone Number",span:3,children:[_.prefix,_.phone_number]}),Object(ie.jsx)(ne.b.Item,{label:"Address",span:3,children:_.address})]})})]})},at=["prefix","phone_number"],nt=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})),a=t.designation,s=t.barangay,i=Object(c.b)(),l=Object(q.i)(),u=z.a.useForm(),b=Object(p.a)(u,1)[0],x=Object(q.h)(),m=Object(n.useState)([]),h=Object(p.a)(m,2),g=h[0],O=h[1],y=Object(n.useState)([]),v=Object(p.a)(y,2),C=v[0],A=v[1],w=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r,s,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.prefix,r=t.phone_number,s=Object(E.a)(t,at),e.prev=1,i(Y({loading:!0})),0===g.filter((function(e){return""===e.dosage||""===e.prescription})).length){e.next=8;break}throw(c=new Error("Please complete the prescription details!")).statusCode=501,c;case 8:return s.prescription=g,s.status="Doctor"===a,s.phone_number=n+r,e.next=14,N.patch("medical-record/private/update-record",Object(P.a)(Object(P.a)({},s),{},{id:l.id}));case 14:o=e.sent,i(Y({loading:!1})),f({payloadType:"success",textString:o.data.message}),x({pathname:"/dashboard/medical-records/view/".concat(o.data.payload._id)}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),i(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(Y({loading:!0})),e.next=4,N.get("medical-record/private/medical-record?id=".concat(l.id));case 4:return t=e.sent,e.next=7,N.get("medical-record/auto-complete?barangay=".concat(s));case 7:a=e.sent,b.setFieldsValue({first_name:t.data.payload.first_name,last_name:t.data.payload.last_name,email:t.data.payload.email,phone_number:t.data.payload.phone_number.substring(3),barangay:t.data.payload.barangay,diagnosis:t.data.payload.diagnosis,outlier:t.data.payload.outlier,detailed_report:t.data.payload.detailed_report,createdBy:t.data.payload.createdBy,approvedBy:t.data.payload.approvedBy,gender:t.data.payload.gender,date_of_birth:oe()(t.data.payload.date_of_birth,"YYYY-MM-DD")}),A(a.data.payload),O(t.data.payload.prescription),i(Y({loading:!1})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),i(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Medical Record | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Create Medical Record",subTitle:e>=4?"Please fill-up everything before submitting.":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(z.a,{onFinish:w,layout:"vertical",form:b,children:[Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Patient Details"})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"first_name",label:"First Name",tooltip:"Individual's given birth first name",rules:[{required:!0,message:"Please fill out this field!"},{min:3,message:"Min length of 3 characters"}],required:!0,children:Object(ie.jsx)(G.a,{})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"last_name",label:"Last Name",tooltip:"Individual's given last name",rules:[{required:!0,message:"Please fill out this field!"},{min:3,message:"Min length of 3 characters"}],required:!0,children:Object(ie.jsx)(G.a,{})})}),Object(ie.jsx)(Q.a,{xs:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"gender",label:"Gender",tooltip:"Basis of user's sexual identity",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsxs)($.a,{children:[Object(ie.jsx)($.a.Option,{value:"Male",children:"Male"}),Object(ie.jsx)($.a.Option,{value:"Female",children:"Female"}),Object(ie.jsx)($.a.Option,{value:"Others",children:"Others"})]})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"date_of_birth",label:"Date of Birth",tooltip:"Citizen's birth date",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(te.a,{disabledDate:function(e){return e&&e>oe()().endOf("day")},format:"YYYY-MM-DD",style:{width:"100%"}})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"email",label:"Email",tooltip:"Individual's personal/private email address",rules:[{type:"email",message:"Input is not a valid Email!"},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"phone_number",label:"Phone Number",tooltip:"Individual's personal/private Phone Number",rules:[{message:"PH Number should start with 639 + the 9 numbers!",pattern:new RegExp(/^(\w{9})$/)},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{addonBefore:Object(ie.jsx)(z.a.Item,{name:"prefix",noStyle:!0,initialValue:"639",children:Object(ie.jsx)($.a,{children:Object(ie.jsx)($.a.Option,{value:"639",children:"+639"})})})})})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"barangay",label:"Barangay",tooltip:"Basis whether the event is approved or not",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,initialValue:s,children:Object(ie.jsxs)($.a,{disabled:"Doctor"!==a,children:[Object(ie.jsx)($.a.Option,{value:"Lumil",children:"Lumil"}),Object(ie.jsx)($.a.Option,{value:"Puting Kahoy",children:"Puting Kahoy"})]})})})]}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Diagnosis Details"})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"diagnosis",label:"Diagnosis",tooltip:"Individual's personal/private email address",rules:[{required:!0,message:"Please fill out this field!"},{min:3,message:"Min length of 3 characters"}],required:!0,children:Object(ie.jsx)(Ge.a,{style:{width:"100%"},options:C,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"outlier",label:"Severity",tooltip:"Individual's personal/private email address",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)($e.a,{marks:{1:{style:{color:"#abde95"},label:Object(ie.jsx)("strong",{children:"Mild"})},5:{style:{color:"#ffc04c"},label:Object(ie.jsx)("strong",{children:"Moderate"})},8:{style:{color:"#fb6666"},label:Object(ie.jsx)("strong",{children:"Severe"})}},max:10,min:1})})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"detailed_report",label:"Detailed Report",tooltip:"Written representation of the event",rules:[{required:!0,message:"Please fill out this field!"},{min:10,message:"Min length of 10 characters"}],required:!0,children:Object(ie.jsx)(G.a.TextArea,{autoSize:{minRows:10,maxRows:6}})})})]})}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px",position:"relative"},wrap:!1,children:[Object(ie.jsx)(Q.a,{flex:"auto",children:Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:1===e||0===e?"Prescription":"Prescription Details"})}),Object(ie.jsx)(Q.a,{flex:1===e||0===e?"85px":"165px",children:Object(ie.jsx)(H.a,{type:"primary",onClick:function(){O((function(e){return[].concat(Object(de.a)(e),[{prescription:"",dosage:""}])}))},style:{position:"absolute",top:0,bottom:0,margin:"auto 0"},children:1===e||0===e?"Add":"Add Prescription"})})]}),g.map((function(e,t){return Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px",position:"relative"},wrap:!1,children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"detailed_report",label:"Prescription ".concat(t+1),tooltip:"Written representation of the event",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsxs)(G.a.Group,{compact:!0,children:[Object(ie.jsx)(G.a,{style:{width:"70%"},placeholder:"Prescription",value:e.prescription,onChange:function(e){O((function(a){return a[t]=Object(P.a)(Object(P.a)({},a[t]),{},{prescription:e.target.value}),Object(de.a)(a)}))}}),Object(ie.jsx)(G.a,{style:{width:"20%"},placeholder:"Dose/Amount",value:e.dosage,onChange:function(e){O((function(a){return a[t]=Object(P.a)(Object(P.a)({},a[t]),{},{dosage:e.target.value}),Object(de.a)(a)}))}}),Object(ie.jsx)(K.a,{title:"Remove prescription",children:Object(ie.jsx)(H.a,{onClick:function(){O((function(e){return e.splice(t,1),Object(de.a)(e)}))},style:{width:"10%",backgroundColor:"#fb6666",color:"white"},children:"X"})})]})})})},t)}))]})]}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Record Details"})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"createdBy",label:"Record Creator",tooltip:"Individual's given birth first name",required:!0,children:Object(ie.jsx)(G.a,{disabled:!0})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"approvedBy",label:"Record Approver",tooltip:"Individual's given birth first name",required:!0,children:Object(ie.jsx)(G.a,{disabled:!0})})})]}),Object(ie.jsxs)(z.a.Item,{style:{paddingTop:"20px"},children:[Object(ie.jsx)(H.a,{type:"default",style:{marginRight:e<=4?"10px":"20px"},onClick:function(){return b.resetFields(),void O([])},children:"Reset"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",children:"Submit"})]})]})})]})},rt=a(1233),st=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(q.i)(),a=Object(c.b)(),s=Object(n.useState)([]),i=Object(p.a)(s,2),l=i[0],u=i[1],b=Object(n.useState)({full_name:"",barangay:"",phone_number:"",email:"",diagnosis:"",outlier:"",detailed_report:"",createdBy:"",approvedBy:"",createdAt:"",updatedAt:"",pin:"",age:"",date_of_birth:"",gender:"",address:""}),x=Object(p.a)(b,2),m=x[0],h=x[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(Y({loading:!0})),e.next=4,N.get("medical-record/private/medical-record?id=".concat(t.id));case 4:n=e.sent,h({full_name:n.data.payload.first_name+" "+n.data.payload.last_name,barangay:n.data.payload.barangay,phone_number:n.data.payload.phone_number,email:n.data.payload.email,diagnosis:n.data.payload.diagnosis,outlier:n.data.payload.outlier,status:n.data.payload.status,detailed_report:n.data.payload.detailed_report,createdBy:n.data.payload.createdBy,approvedBy:n.data.payload.approvedBy,createdAt:n.data.payload.createdAt,updatedAt:n.data.payload.updatedAt,pin:n.data.payload.pin,age:n.data.payload.age,date_of_birth:n.data.payload.date_of_birth,gender:n.data.payload.gender,address:n.data.payload.address}),u(n.data.payload.prescription.map((function(e){return void 0!==e.prescription||null!==e.presciption?"".concat(e.prescription," - ").concat(e.dosage):void 0}))),a(Y({loading:!1})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),a(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Medical Record | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Medical Record ".concat(t.id),subTitle:e>=4?"Record Data is listed below.":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:14},children:[Object(ie.jsxs)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px",display:"flex",alignItems:"center"},children:[Object(ie.jsx)(L.a,{size:75,icon:Object(ie.jsx)(xe.a,{}),style:{marginRight:"15px"}}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("p",{style:{fontSize:"18px",fontWeight:500},children:m.full_name}),Object(ie.jsx)("p",{style:{lineHeight:0},children:m.barangay})]})]}),Object(ie.jsxs)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:[Object(ie.jsxs)(W.a,{orientation:"left",children:[Object(ie.jsx)(rt.a,{})," Patient Details"]}),Object(ie.jsxs)(V.a,{gutter:[24,24],style:{paddingTop:"10px"},children:[Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)("p",{style:{fontWeight:500},children:"Phone Number:"}),Object(ie.jsx)("p",{style:{lineHeight:0},children:m.phone_number})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)("p",{style:{fontWeight:500},children:"Email Address:"}),Object(ie.jsx)("p",{style:{lineHeight:0},children:m.email})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)("p",{style:{fontWeight:500},children:"Age | Date of Birth:"}),Object(ie.jsxs)("p",{style:{lineHeight:0},children:[m.age," ",e>=4?"years old.":"yrs"," - ",e>=4?oe()(m.date_of_birth).format("MMMM DD,YYYY"):oe()(m.date_of_birth).format("MM-DD-YYYY")]})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)("p",{style:{fontWeight:500},children:"Gender:"}),Object(ie.jsx)("p",{style:{lineHeight:0},children:m.gender})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},children:[Object(ie.jsx)("p",{style:{fontWeight:500},children:"Complete Address:"}),Object(ie.jsx)("p",{style:{lineHeight:0},children:m.address})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)("p",{style:{fontWeight:500},children:"Diagnosis:"}),Object(ie.jsx)("p",{style:{lineHeight:0},children:m.diagnosis})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)("p",{style:{fontWeight:500},children:"Severity:"}),Object(ie.jsx)("p",{style:{lineHeight:0},children:m.outlier>=8?"Severe":m.outlier>=5?"Moderate":"Mild"})]})]})]}),Object(ie.jsx)(Z.a,{title:Object(ie.jsx)(je.a.Title,{level:3,style:{fontSize:"16px"},children:"Record Status"}),children:!0===m.status?"Medical Record has been reviewed.":"Awaiting for review."}),Object(ie.jsx)(Z.a,{title:Object(ie.jsx)(je.a.Title,{level:3,style:{fontSize:"16px"},children:"Diagnosis Report"}),style:{marginTop:20},className:"display-linebreak",children:m.detailed_report})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:10},children:[Object(ie.jsxs)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:[Object(ie.jsxs)(W.a,{orientation:"left",children:[Object(ie.jsx)(Ue.a,{})," Medications"]}),Object(ie.jsx)(be.b,{size:"large",dataSource:l,renderItem:function(e){return Object(ie.jsx)(be.b.Item,{children:e})}})]}),Object(ie.jsxs)(V.a,{gutter:[24,24],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(Z.a,{title:Object(ie.jsx)(je.a.Title,{level:3,style:{fontSize:"16px"},children:"Created By"}),children:m.createdBy})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(Z.a,{title:Object(ie.jsx)(je.a.Title,{level:3,style:{fontSize:"16px"},children:"Approved By"}),children:""===m.approvedBy?"Awaiting for review.":m.approvedBy})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(Z.a,{title:Object(ie.jsx)(je.a.Title,{level:3,style:{fontSize:"16px"},children:"Creation Date"}),children:""!==m.createdAt?oe()(m.createdAt).format("MMMM DD, YYYY h:mm A"):oe()().format()})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(Z.a,{title:Object(ie.jsx)(je.a.Title,{level:3,style:{fontSize:"16px"},children:"Last Accessed"}),children:""!==m.updatedAt?oe()(m.updatedAt).format("MMMM DD, YYYY h:mm A"):oe()().format()})}),Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(Z.a,{title:Object(ie.jsx)(je.a.Title,{level:3,style:{fontSize:"16px"},children:"Identification PIN"}),children:m.pin})})]})]})]})]})},it=["prefix","email","last_name","first_name","phone_number"],ct=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})),a=t.designation,s=t.barangay,i=t.first_name,l=t.last_name,u=t.email,b=t.phone_number,x=Object(c.b)(),m=z.a.useForm(),h=Object(p.a)(m,1)[0],g=Object(q.h)(),O=Object(n.useState)(!1),y=Object(p.a)(O,2),v=y[0],C=y[1],A=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r,i,c,l,o,d,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.prefix,r=t.email,i=t.last_name,c=t.first_name,l=t.phone_number,o=Object(E.a)(t,it),e.prev=1,x(Y({loading:!0})),!(o.end_datetime<o.start_datetime)){e.next=7;break}throw(d=new Error("End date and time is earler than the start date and time!")).statusCode=501,d;case 7:return e.next=10,N.post("events/create-listing",Object(P.a)(Object(P.a)({},o),{},{start_datetime:oe()(o.start_datetime,"YYYY-MM-DD HH:mm:ss"),end_datetime:oe()(o.end_datetime,"YYYY-MM-DD HH:mm:ss"),requestor:{first_name:c,last_name:i,email:r,phone_number:n+l},barangay:s,createdBy:!1===v?"".concat(c," ").concat(i," (").concat(a,")"):"".concat(c," ").concat(i),status:!1,type:o.type}));case 10:p=e.sent,x(Y({loading:!1})),f({payloadType:"success",textString:p.data.message}),g({pathname:"/dashboard/event-listing/view/".concat(p.data.payload._id)}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),x(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h.setFieldsValue({first_name:i,last_name:l,email:u,phone_number:b.substring(3)})}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Event | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Create Event Listing",subTitle:e>=4?"Please fill-up everything before submitting.":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(X.a,{message:"By default, the current user is set as the requestor. If the current user is not the requestor please select the switch.",type:"info",closeText:"Close Now"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(z.a,{onFinish:A,layout:"vertical",form:h,children:[Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Event Details"}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"event",label:"Event",tooltip:"Event's addressed or referred to.",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"description",label:"Description",tooltip:"Written representation of the event",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a.TextArea,{autoSize:{minRows:10,maxRows:6}})})})}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"start_datetime",label:"Start Date and Time",tooltip:"Event's initial time start",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(te.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"end_datetime",label:"End Date and Time",tooltip:"Event's initial time end",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(te.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}})})})]}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"type",label:"Type",tooltip:"Basis whether the event can be seen publicly",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,initialValue:"Public",children:Object(ie.jsxs)($.a,{children:[Object(ie.jsx)($.a.Option,{value:"Public",children:"Public"}),Object(ie.jsx)($.a.Option,{value:"Private",children:"Private"})]})})})})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Requestor Details"}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:12},children:Object(ie.jsx)("p",{style:{fontSize:"14px",fontWeight:"400",paddingLeft:"10px"},children:"Not the requestor?"})}),Object(ie.jsx)(Q.a,{xs:{span:12},children:Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(ie.jsx)(ee.a,{defaultChecked:!0,onChange:function(){v?(h.setFieldsValue({first_name:i,last_name:l,email:u,phone_number:b.substring(3)}),C(!1)):(C(!0),h.setFieldsValue({first_name:"",last_name:"",email:"",phone_number:""}))}})})})]}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"first_name",label:"First Name",tooltip:"Individual's given birth first name",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{disabled:!v})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"last_name",label:"Last Name",tooltip:"Individual's given last name",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{disabled:!v})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"email",label:"Email",tooltip:"Individual's personal/private email address",rules:[{type:"email",message:"Input is not a valid Email!"},{required:!0,message:"Please fill out this field!"}],children:Object(ie.jsx)(G.a,{disabled:!v})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"phone_number",label:"Phone Number",tooltip:"Individual's personal/private Phone Number",rules:[{message:"PH Number should start with 639 + the 9 numbers!",pattern:new RegExp(/^(\w{9})$/)},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{addonBefore:Object(ie.jsx)(z.a.Item,{name:"prefix",noStyle:!0,initialValue:"639",children:Object(ie.jsx)($.a,{children:Object(ie.jsx)($.a.Option,{value:"639",children:"+639"})})}),disabled:!v})})})})]})]}),Object(ie.jsxs)(z.a.Item,{style:{paddingTop:"20px"},children:[Object(ie.jsx)(H.a,{type:"default",style:{marginRight:e<=4?"10px":"20px"},onClick:function(){return h.resetFields(),void h.setFieldsValue({first_name:i,last_name:l,email:u,phone_number:b.substring(3)})},children:"Reset"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",children:"Submit"})]})]})})]})},lt=a(1235),ot=a(1234),dt=a(727),pt=a(421),ut=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})).barangay,a=Object(q.i)(),s=Object(q.h)(),i=Object(c.b)(),l=Object(n.useState)({event:"",description:"",start_datetime:"",end_datetime:"",first_name:"",last_name:"",phone_number:"",email:"",createdAt:"",updatedAt:"",badgeText:"",textData:"",createdBy:"",approvedBy:"",type:""}),u=Object(p.a)(l,2),b=u[0],x=u[1],m=Object(n.useState)([]),h=Object(p.a)(m,2),g=h[0],O=h[1],y=Object(n.useState)(!1),v=Object(p.a)(y,2),C=v[0],A=v[1],w=Object(n.useState)({}),S=Object(p.a)(w,2),k=S[0],D=S[1],T=function(){var e=Object(d.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(Y({loading:!0})),e.next=4,N.get("events/event?id=".concat(a.id,"&barangay=").concat(t));case 4:n=e.sent,x({event:n.data.payload.event,description:n.data.payload.description,start_datetime:oe()(n.data.payload.start_datetime).format("MMMM DD,YYYY - h:mm A"),end_datetime:oe()(n.data.payload.end_datetime).format("MMMM DD,YYYY - h:mm A"),first_name:n.data.payload.requestor.first_name,last_name:n.data.payload.requestor.last_name,phone_number:n.data.payload.requestor.phone_number,email:n.data.payload.requestor.email,createdAt:oe()(n.data.payload.createdAt).format("MMMM DD,YYYY - h:mm A"),updatedAt:oe()(n.data.payload.updatedAt).format("MMMM DD,YYYY - h:mm A"),badgeText:!0===n.data.payload.status?oe()(new Date)>oe()(n.data.payload.start_datetime)?"success":"warning":"default",textData:!0===n.data.payload.status?oe()(new Date)>oe()(n.data.payload.start_datetime)?"Event has occured or is currently on-going.":"Upcoming event.":"Event is awaiting for approval.",createdBy:n.data.payload.createdBy,approvedBy:n.data.payload.approvedBy,type:n.data.payload.type,status:n.data.payload.status}),O(n.data.payload.attendee),i(Y({loading:!1})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(Y({loading:!0})),e.next=4,N.post("events/remove-listing-attendee?id=".concat(a.id,"&barangay=").concat(t),{id:n});case 4:r=e.sent,f({payloadType:"success",textString:r.data.message}),T(),i(Y({loading:!1})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),M=[{title:"Full Name",key:"full name",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:Object(ie.jsxs)("p",{children:[e.first_name," ",e.last_name]})})}},{title:"Contact Details",key:"contact details",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:Object(ie.jsxs)("p",{children:[e.email,"/",e.phone_number]})})}},{title:"Status",key:"status",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:!0===e.isApproved?Object(ie.jsx)("p",{children:e.status}):Object(ie.jsx)(Le.a,{color:"#FCA300",children:"Awaiting for approval"})})}},{title:"Verification",key:"action",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:!1===e.isApproved?oe()(b.end_datetime,"MMMM DD,YYYY h:mm A")>oe()()?Object(ie.jsx)(K.a,{title:"Show Verification Details",children:Object(ie.jsx)(H.a,{type:"primary",onClick:function(){A(!C),D(Object(P.a)(Object(P.a)(Object(P.a)(Object(P.a)(Object(P.a)(Object(P.a)({title:e.first_name+" "+e.last_name,age:e.age,date_of_birth:e.date_of_birth,gender:e.gender},e.vaccine_card&&{vaccine_card:e.vaccine_card}),e.any_id&&{any_id:e.any_id}),e.proof_of_billing&&{proof_of_billing:e.proof_of_billing}),e.barangay_id_number&&{barangay_id_number:e.barangay_id_number}),e.facebook_url&&{facebook_url:e.facebook_url}),e.address&&{address:e.address}))},children:Object(ie.jsx)(ot.a,{})})}):Object(ie.jsx)(Le.a,{color:"#AD72B7",children:"Event has already ended."}):Object(ie.jsx)(Le.a,{color:"#AD72B7",children:"Approved & Verified"})})}},{title:"Action",key:"action",render:function(e,t){return Object(ie.jsxs)(pe.b,{size:"middle",children:[oe()(b.end_datetime,"MMMM DD,YYYY h:mm A")>oe()()&&Object(ie.jsx)(K.a,{title:"Remove Attendee",children:Object(ie.jsx)(H.a,{type:"danger",onClick:function(){I(e._id)},children:Object(ie.jsx)(lt.a,{})})}),!1===e.isApproved&&Object(ie.jsx)(r.a.Fragment,{children:oe()(b.end_datetime,"MMMM DD,YYYY h:mm A")>oe()()&&Object(ie.jsx)(K.a,{title:"Approve Attendee",children:Object(ie.jsx)(H.a,{style:{backgroundColor:"green",color:"white"},onClick:Object(d.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i(Y({loading:!0})),t.next=4,N.post("events/approve-listing-attendee?id=".concat(e._id));case 4:a=t.sent,f({payloadType:"success",textString:a.data.message}),T(),i(Y({loading:!1})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),i(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),children:Object(ie.jsx)(dt.a,{})})})})]})}}],_={full_name:{header:"Full Name",formatter:function(e,t){return t.first_name+" "+t.last_name}},email:{header:"Email",formatter:function(e,t){return t.email}},phone_number:{header:"Phone Number",formatter:function(e,t){return"".concat(String(t.phone_number).substring(0,3),"-").concat(String(t.phone_number).substring(3,6),"-").concat(String(t.phone_number).substring(6,9),"-").concat(String(t.phone_number).substring(9,12))}},status:{header:"Status",formatter:function(e,t){return!0===t.isApproved?"Approved":"Awaiting for approval"}}},B={type:"primary",icon:Object(ie.jsx)(Qe.a,{}),children:Object(ie.jsx)("span",{children:"Export to EXCEL"})};return Object(n.useEffect)((function(){T()}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Event | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Event Listing",subTitle:e>=4?"Contains all the data for the event ".concat(a.id):"",style:{padding:0,backgroundColor:"#AD72B7"},extra:oe()(b.end_datetime,"MMMM DD,YYYY h:mm A")<oe()()?!1===b.status?[Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(pt.a,{}),onClick:function(){s({pathname:"/dashboard/event-listing/update/".concat(a.id)})},style:{color:"#AD72B7"},children:e>=4?"Update Event Details":e>=1?"Update":""},"3")]:[]:!1===b.status?[Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(pt.a,{}),onClick:function(){s({pathname:"/dashboard/event-listing/update/".concat(a.id)})},style:{color:"#AD72B7"},children:e>=4?"Update Event Details":e>=1?"Update":""},"3"),Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(xe.a,{}),onClick:function(){s({pathname:"/dashboard/event-listing/add-attendee/".concat(a.id)})},style:{color:"#AD72B7"},children:e>=4?"Add Attendee":e>=1?"Add":""},"3")]:[Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(xe.a,{}),onClick:function(){s({pathname:"/dashboard/event-listing/add-attendee/".concat(a.id)})},style:{color:"#AD72B7"},children:e>=4?"Add Attendee":e>=1?"Add":""},"3")]})}),Object(ie.jsxs)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:[Object(ie.jsxs)(ne.b,{title:"Event Information",bordered:!0,style:{margin:"5px 0 5px 0"},layout:e>=3?"horizontal":"vertical",children:[Object(ie.jsx)(ne.b.Item,{label:"Event",span:3,children:b.event}),Object(ie.jsx)(ne.b.Item,{label:"Description",span:3,className:"display-linebreak",children:b.description}),Object(ie.jsx)(ne.b.Item,{label:"Start Date & Time",span:1.5,children:b.start_datetime}),Object(ie.jsx)(ne.b.Item,{label:"End Date & Time",span:1.5,children:b.end_datetime})]}),Object(ie.jsxs)(ne.b,{title:"Requestor Information",bordered:!0,style:{margin:"15px 0 5px 0"},layout:e>=3?"horizontal":"vertical",children:[Object(ie.jsx)(ne.b.Item,{label:"First Name",span:1.5,children:b.first_name}),Object(ie.jsx)(ne.b.Item,{label:"Email",span:1.5,children:b.email}),Object(ie.jsx)(ne.b.Item,{label:"Last Name",span:1.5,children:b.last_name}),Object(ie.jsx)(ne.b.Item,{label:"Phone Number",span:1.5,children:b.phone_number})]}),Object(ie.jsxs)(ne.b,{title:"Record Information",bordered:!0,style:{margin:"15px 0 15px 0"},layout:e>=3?"horizontal":"vertical",children:[Object(ie.jsx)(ne.b.Item,{label:"Date Creation",span:1.5,children:b.createdAt}),Object(ie.jsx)(ne.b.Item,{label:"Last Accessed",span:1.5,children:b.updatedAt}),Object(ie.jsx)(ne.b.Item,{label:"Created By",span:1.5,children:b.createdBy}),Object(ie.jsx)(ne.b.Item,{label:"Approved By",span:1.5,children:b.approvedBy}),Object(ie.jsx)(ne.b.Item,{label:"Type",span:1.5,children:b.type}),Object(ie.jsx)(ne.b.Item,{label:"Status",span:1.5,children:Object(ie.jsx)(re.a,{status:b.badgeText,text:b.textData})})]})]}),Object(ie.jsxs)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:[Object(ie.jsx)("p",{style:{fontSize:"16px",fontWeight:700,paddingTop:"15px"},children:"Event Attendee"}),Object(ie.jsx)(ze.a,{columns:M,dataSource:g,scroll:{x:500},searchable:!0,exportableProps:{fields:_,showColumnPicker:!0,btnProps:B,fileName:"event-attendee",disabled:0===g.length},searchableProps:{fuzzySearch:!0}})]}),Object(ie.jsx)(ae.a,{title:k.title,visible:C,onCancel:function(){A(!C)},onOk:function(){A(!C)},children:Object(ie.jsxs)(ne.b,{bordered:!0,layout:"vertical",children:[Object(ie.jsx)(ne.b.Item,{label:"Full Address",span:3,children:k.address}),Object(ie.jsx)(ne.b.Item,{label:"Gender",span:3,children:k.gender}),Object(ie.jsxs)(ne.b.Item,{label:"Age | Date of Birth",span:3,children:[k.age," years old | ",oe()(k.date_of_birth).format("MMMM DD,YYYY")]}),k.facebook_url&&Object(ie.jsx)(ne.b.Item,{label:"Facebook URL",span:3,children:k.facebook_url}),k.barangay_id_number&&Object(ie.jsx)(ne.b.Item,{label:"Barangay ID Number",span:3,children:k.barangay_id_number}),k.vaccine_card&&Object(ie.jsx)(ne.b.Item,{label:"Vaccine Card",span:3,children:Object(ie.jsx)("img",{alt:"example",style:{width:"100%",height:"auto"},src:k.vaccine_card,galleryimg:"no"})}),k.proof_of_billing&&Object(ie.jsx)(ne.b.Item,{label:"Proof of Billing",span:3,children:Object(ie.jsx)("img",{alt:"example",style:{width:"100%",height:"auto"},src:k.proof_of_billing,galleryimg:"no"})}),k.any_id&&Object(ie.jsx)(ne.b.Item,{label:"General ID",span:1.5,children:Object(ie.jsx)("img",{alt:"example",style:{width:"100%",height:"auto"},src:k.any_id,galleryimg:"no"})})]})})]})},jt=a(1215),bt=Object(O.b)({name:"calendar",initialState:{cell:{"2022/02/08":[{type:"success",content:"This is usual event1."},{type:"success",content:"This is usual event2."}]}},reducers:{addCellData:function(e,t){e.cell=t.payload.cell},resetCell:function(e,t){e.cell={}}}}),xt=bt.actions,mt=xt.addCellData,ht=xt.resetCell,gt=bt.reducer,Ot=(a(1178),function(e){var t=Object(c.c)((function(e){return e.calendar})).cell;return Object(ie.jsx)("ul",{className:"events",children:void 0!==t["".concat(oe()(e).format("YYYY/MM/DD"))]&&t["".concat(oe()(e).format("YYYY/MM/DD"))].map((function(e){return Object(ie.jsx)("li",{children:Object(ie.jsx)(re.a,{status:e.type,text:e.content})},e.content)}))})}),yt=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})).barangay,a=Object(c.c)((function(e){return e.calendar})).cell,s=Object(n.useState)(!1),i=Object(p.a)(s,2),l=i[0],u=i[1],b=Object(q.h)(),m=Object(c.b)(),h=Object(n.useState)({value:oe()(new Date),selectedValue:oe()(new Date)}),g=Object(p.a)(h,2),O=g[0],y=g[1],v=Object(n.useState)({finished:0,upcoming:0,awaiting:0}),C=Object(p.a)(v,2),A=C[0],w=C[1],S=function(){var e=Object(d.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(Y({loading:!0})),e.next=4,N.get("events/private-list?barangay=".concat(t));case 4:a=e.sent,m(Y({loading:!1})),m(mt({cell:a.data.payload})),w({finished:a.data.analytics.finished,upcoming:a.data.analytics.upcoming,awaiting:a.data.analytics.awaiting}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),m(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){m(ht()),S()}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Event | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Event Listing",subTitle:e>=4?"Contains all the activities and missions of the Barangay Healthcare.":"",style:{padding:0,backgroundColor:"#AD72B7"},extra:[Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(pt.a,{}),onClick:function(){b({pathname:"/dashboard/event-listing/create"})},style:{color:"#AD72B7"},children:"Create Event"},"3")]})}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{padding:e>=4?"10px 0 10px 0":"10px 0",borderRadius:"5px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},style:{marginBottom:"15px"},children:Object(ie.jsxs)(Z.a,{title:"Calendar Legend",bordered:!1,style:{width:"100%"},children:[Object(ie.jsx)(re.a,{status:"success",text:"Event has occured or is currently on-going."}),Object(ie.jsx)("br",{}),Object(ie.jsx)(re.a,{status:"default",text:"Event has not been accepted or not yet approved."}),Object(ie.jsx)("br",{}),Object(ie.jsx)(re.a,{status:"warning",text:"Upcoming Events."})]})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},style:{marginBottom:"15px"},children:Object(ie.jsx)(Z.a,{title:"Event Analytics",bordered:!1,style:{width:"100%"},children:Object(ie.jsxs)(V.a,{children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:8},children:Object(ie.jsx)(qe.a,{title:"Finished",value:A.finished})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:8},children:Object(ie.jsx)(qe.a,{title:"Upcoming",value:A.upcoming})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:8},children:Object(ie.jsx)(qe.a,{title:"Awaiting Approval",value:A.awaiting})})]})})})]}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(jt.a,{dateCellRender:Ot,mode:"month",value:O.value,onSelect:function(e){y((function(t){return Object(P.a)(Object(P.a)({},t),{},{selectedValue:e})})),u(!0)},onPanelChange:function(e){y((function(t){return Object(P.a)(Object(P.a)({},t),{},{value:e})}))}})}),Object(ie.jsxs)(ae.a,{title:oe()(O.selectedValue).format("MMMM DD,YYYY"),visible:l,closable:!1,onOk:function(){u(!1)},okText:"Close",className:"event-modal",children:[void 0!==a["".concat(oe()(O.selectedValue).format("YYYY/MM/DD"))]&&a["".concat(oe()(O.selectedValue).format("YYYY/MM/DD"))].map((function(e){return Object(ie.jsx)("li",{children:Object(ie.jsx)(re.a,{status:e.type,text:e.content,className:"hoverable-badge",onClick:function(){b({pathname:"/dashboard/event-listing/view/".concat(e.id)})}})},e.content)})),void 0===a["".concat(oe()(O.selectedValue).format("YYYY/MM/DD"))]&&Object(ie.jsx)(x.a,{})]})]})},ft=["prefix","email","phone_number"],vt=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})),a=t.barangay,s=t.first_name,i=t.last_name,l=t.designation,u=Object(c.b)(),b=Object(q.i)(),x=z.a.useForm(),m=Object(p.a)(x,1)[0],h=Object(q.h)(),g=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r,c,o,d,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.prefix,r=t.email,c=t.phone_number,o=Object(E.a)(t,ft),e.prev=1,u(Y({loading:!0})),!(o.end_datetime<o.start_datetime)){e.next=7;break}throw(d=new Error("End date and time is earler than the start date and time!")).statusCode=501,d;case 7:return e.next=10,N.post("events/update-listing?id=".concat(b.id,"&barangay=").concat(a),Object(P.a)(Object(P.a)({},o),{},{start_datetime:oe()(o.start_datetime,"YYYY-MM-DD HH:mm:ss"),end_datetime:oe()(o.end_datetime,"YYYY-MM-DD HH:mm:ss"),requestor:{first_name:o.first_name,last_name:o.last_name,email:r,phone_number:n+c},barangay:a,status:o.status,type:o.type},!0===o.status&&{approvedBy:"".concat(s," ").concat(i," (").concat(l,")")}));case 10:p=e.sent,u(Y({loading:!1})),f({payloadType:"success",textString:p.data.message}),h({pathname:"/dashboard/event-listing/view/".concat(p.data.payload._id)}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),u(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(Y({loading:!0})),e.next=4,N.get("events/event?id=".concat(b.id,"&barangay=").concat(a));case 4:t=e.sent,m.setFieldsValue({event:t.data.payload.event,description:t.data.payload.description,first_name:t.data.payload.requestor.first_name,last_name:t.data.payload.requestor.last_name,phone_number:t.data.payload.requestor.phone_number.substring(3),email:t.data.payload.requestor.email,start_datetime:oe()(t.data.payload.start_datetime,"YYYY-MM-DD HH:mm:ss"),end_datetime:oe()(t.data.payload.end_datetime,"YYYY-MM-DD HH:mm:ss"),status:t.data.payload.status,type:t.data.payload.type}),u(Y({loading:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Event | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Update Event Listing",subTitle:e>=4?"Please fill-up everything before submitting.":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(z.a,{onFinish:g,layout:"vertical",form:m,children:[Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Event Details"}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"event",label:"Event",tooltip:"Event's addressed or referred to.",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"description",label:"Description",tooltip:"Written representation of the event",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a.TextArea,{autoSize:{minRows:10,maxRows:6}})})})}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"start_datetime",label:"Start Date and Time",tooltip:"Event's initial time start",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(te.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"end_datetime",label:"End Date and Time",tooltip:"Event's initial time end",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(te.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}})})})]}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"type",label:"Type",tooltip:"Basis whether the event can be seen publicly",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsxs)($.a,{children:[Object(ie.jsx)($.a.Option,{value:"Public",children:"Public"}),Object(ie.jsx)($.a.Option,{value:"Private",children:"Private"})]})})})})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:12},children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Requestor Details"}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"first_name",label:"First Name",tooltip:"Individual's given birth first name",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"last_name",label:"Last Name",tooltip:"Individual's given last name",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"email",label:"Email",tooltip:"Individual's personal/private email address",rules:[{type:"email",message:"Input is not a valid Email!"},{required:!0,message:"Please fill out this field!"}],children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"phone_number",label:"Phone Number",tooltip:"Individual's personal/private Phone Number",rules:[{message:"PH Number should start with 639 + the 9 numbers!",pattern:new RegExp(/^(\w{9})$/)},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{addonBefore:Object(ie.jsx)(z.a.Item,{name:"prefix",noStyle:!0,initialValue:"639",children:Object(ie.jsx)($.a,{children:Object(ie.jsx)($.a.Option,{value:"639",children:"+639"})})})})})})})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Event Status"}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsxs)(Q.a,{xs:{span:24},children:[Object(ie.jsx)(X.a,{style:{marginBottom:"15px"},message:"Once the event has been activated, event details data cannot be changed anymore.",type:"info",closeText:"Close Now"}),Object(ie.jsx)(z.a.Item,{name:"status",label:"Status",tooltip:"Basis whether the event is approved or not",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsxs)($.a,{children:[Object(ie.jsx)($.a.Option,{value:!0,children:"Active"}),Object(ie.jsx)($.a.Option,{value:!1,children:"Inactive"})]})})]})})]})]}),Object(ie.jsxs)(z.a.Item,{style:{paddingTop:"20px"},children:[Object(ie.jsx)(H.a,{type:"default",style:{marginRight:e<=4?"10px":"20px"},onClick:function(){m.resetFields()},children:"Reset"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",children:"Submit"})]})]})})]})},Ct=["prefix","email","last_name","first_name","phone_number"],At=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})).barangay,a=Object(c.b)(),n=Object(q.i)(),s=z.a.useForm(),i=Object(p.a)(s,1)[0],l=Object(q.h)(),u=function(){var e=Object(d.a)(j.a.mark((function e(r){var s,i,c,o,d,p,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.prefix,i=r.email,c=r.last_name,o=r.first_name,d=r.phone_number,p=Object(E.a)(r,Ct),e.prev=1,a(Y({loading:!0})),e.next=5,N.post("events/update-listing-attendee?id=".concat(n.id,"&barangay=").concat(t),Object(P.a)({first_name:o,last_name:c,email:i,phone_number:s+d,isApproved:!0},p));case 5:u=e.sent,a(Y({loading:!1})),f({payloadType:"success",textString:u.data.message}),l({pathname:"/dashboard/event-listing/view/".concat(n.id)}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Event | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Add Event Attendee",subTitle:e>=4?"Please fill-up everything before submitting.":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(z.a,{onFinish:u,layout:"vertical",form:i,children:[Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsxs)(Q.a,{xs:{span:24},children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Personal Details"}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"first_name",label:"First Name",tooltip:"Individual's given birth first name",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"last_name",label:"Last Name",tooltip:"Individual's given last name",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"gender",label:"Gender",tooltip:"Basis of user's sexual identity",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsxs)($.a,{children:[Object(ie.jsx)($.a.Option,{value:"Male",children:"Male"}),Object(ie.jsx)($.a.Option,{value:"Female",children:"Female"}),Object(ie.jsx)($.a.Option,{value:"Others",children:"Others"})]})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"date_of_birth",label:"Date of Birth",tooltip:"Citizen's birth date",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(te.a,{disabledDate:function(e){return e&&e>oe()().endOf("day")},format:"YYYY-MM-DD",style:{width:"100%"}})})})]}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"email",label:"Email",tooltip:"Individual's personal/private email address",rules:[{type:"email",message:"Input is not a valid Email!"},{required:!0,message:"Please fill out this field!"}],children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"phone_number",label:"Phone Number",tooltip:"Individual's personal/private Phone Number",rules:[{message:"PH Number should start with 639 + the 9 numbers!",pattern:new RegExp(/^(\w{9})$/)},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{addonBefore:Object(ie.jsx)(z.a.Item,{name:"prefix",noStyle:!0,initialValue:"639",children:Object(ie.jsx)($.a,{children:Object(ie.jsx)($.a.Option,{value:"639",children:"+639"})})})})})})})]})}),Object(ie.jsxs)(z.a.Item,{style:{paddingTop:"20px"},children:[Object(ie.jsx)(H.a,{type:"default",style:{marginRight:e<=4?"10px":"20px"},onClick:function(){i.resetFields()},children:"Reset"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",children:"Submit"})]})]})})]})},wt=a(165),St=a(409),kt=a(209),Dt=a(1236),Tt=a(260),It=a(259),Mt=(a(1179),ae.a.confirm),_t=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})),a=t.barangay,s=t.first_name,i=t.last_name,l=t.email,u=t.phone_number,b=Object(c.b)(),m=Object(n.useState)(1),h=Object(p.a)(m,2),g=h[0],O=h[1],y=Object(n.useState)(!1),v=Object(p.a)(y,2),C=v[0],A=v[1],w=Object(n.useState)(!1),S=Object(p.a)(w,2),k=S[0],D=S[1],T=Object(n.useState)({}),I=Object(p.a)(T,2),M=I[0],_=I[1],B=Object(n.useState)(!1),R=Object(p.a)(B,2),q=R[0],E=R[1],F=Object(n.useState)({}),L=Object(p.a)(F,2),U=L[0],$=L[1],re=z.a.useForm(),se=Object(p.a)(re,1)[0],ce=Object(n.useState)(!1),le=Object(p.a)(ce,2),de=le[0],je=le[1],be=Object(n.useState)(!1),me=Object(p.a)(be,2),he=me[0],ge=me[1],Oe=z.a.useForm(),ye=Object(p.a)(Oe,1)[0],fe=Object(n.useState)([]),ve=Object(p.a)(fe,2),Ce=ve[0],Ae=ve[1],we=Object(n.useState)({}),Se=Object(p.a)(we,2),ke=Se[0],De=Se[1],Te=Object(n.useState)([]),Ie=Object(p.a)(Te,2),_e=(Ie[0],Ie[1],Object(n.useState)([])),Be=Object(p.a)(_e,2),Ye=Be[0],Re=Be[1],qe=Object(n.useRef)(),Pe=Object(n.useState)(!1),Ee=Object(p.a)(Pe,2),Fe=Ee[0],Ne=Ee[1],Ue=Object(n.useState)({}),Ve=Object(p.a)(Ue,2),Qe=Ve[0],We=Ve[1],He=[{title:"Full Name",key:"full name",width:"30%",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:Object(ie.jsxs)("p",{children:[e.first_name," ",e.last_name]})})}},{title:"Contact Details",key:"contact details",width:"30%",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:Object(ie.jsxs)("p",{children:[e.email,"/",e.phone_number]})})}},{title:"Status",dataIndex:"status",key:"Status",width:"20%",sorter:function(e,t){return e.phone_number.length-t.phone_number.length}}],Ze=[{title:"Full Name",key:"full name",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:Object(ie.jsxs)("p",{children:[e.first_name," ",e.last_name]})})}},{title:"Email",dataIndex:"email",key:"Email",sorter:function(e,t){return e.email.length-t.email.length}},{title:"Phone Number",dataIndex:"phone_number",key:"Phone Number",sorter:function(e,t){return e.phone_number.length-t.phone_number.length}},{title:"Address",dataIndex:"address",key:"Address",sorter:function(e,t){return e.address.length-t.address.length}},{title:"Verification",key:"action",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:!1===e.status?Object(ie.jsx)(K.a,{title:"Show Verification Details",children:Object(ie.jsx)(H.a,{type:"primary",onClick:function(){Ne(!Fe),We(Object(P.a)(Object(P.a)(Object(P.a)(Object(P.a)(Object(P.a)(Object(P.a)({title:e.first_name+" "+e.last_name},e.vaccine_card&&{vaccine_card:e.vaccine_card}),e.any_id&&{any_id:e.any_id}),e.proof_of_billing&&{proof_of_billing:e.proof_of_billing}),e.barangay_id_number&&{barangay_id_number:e.barangay_id_number}),e.facebook_url&&{facebook_url:e.facebook_url}),e.address&&{address:e.address}))},children:Object(ie.jsx)(ot.a,{})})}):Object(ie.jsx)(Le.a,{color:"#AD72B7",children:"Approved & Verified"})})}},{title:"Action",key:"action",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:!1===e.status?Object(ie.jsx)(K.a,{title:"Enable subscription",children:Object(ie.jsx)(H.a,{style:{backgroundColor:"green",color:"white"},onClick:Object(d.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(Y({loading:!0})),t.next=4,N.post("subscription/approve-listing",{id:e._id});case 4:return n=t.sent,f({payloadType:"success",textString:n.data.message}),t.next=8,N.get("subscription/listing?barangay=".concat(a));case 8:r=t.sent,Re(r.data.payload),b(Y({loading:!1})),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),b(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[0,13]])}))),children:Object(ie.jsx)(dt.a,{})})}):Object(ie.jsx)(Le.a,{color:"#AD72B7",children:"Approved & Verified"})})}}],Ke=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(Y({loading:!0})),e.next=4,N.get("subscription/listing?barangay=".concat(a));case 4:return t=e.sent,e.next=7,N.get("communication/listing/".concat(a));case 7:n=e.sent,console.log(t),Ae(n.data.payload),Re(t.data.payload),b(Y({loading:!1})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),b(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(Y({loading:!0})),e.next=4,N.post("communication/create",Object(P.a)(Object(P.a)({},M),{},{announcement_datetime:oe()(M.announcement_datetime).format("YYYY-MM-DD h:mm:ss"),barangay:a,requestor:{first_name:s,last_name:i,email:l,phone_number:u},send_right_now:he}));case 4:t=e.sent,A(!1),D(!1),De({}),f({payloadType:"success",textString:t.data.message}),ye.resetFields(),Ke(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),b(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){Ke()}),[]);var Xe=function(e){return e&&e<oe()().endOf("day")},Ge=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(Y({loading:!0})),e.next=4,N.post("communication/update/".concat(U._id),{_id:U._id,announcement:t.announcement,message:t.message,barangay:a,announcement_datetime:oe()(t.announcement_datetime).format("YYYY-MM-DD h:mm:ss"),requestor:{first_name:s,last_name:i,email:l,phone_number:u},send_right_now:he});case 4:n=e.sent,E(!1),De({}),Ke(),f({payloadType:"success",textString:n.data.message}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),b(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(Y({loading:!0})),e.next=4,N.post("communication/update/".concat(t._id),{barangay:a,_id:t._id,status:!1});case 4:n=e.sent,De({}),Ke(),f({payloadType:"success",textString:n.data.message}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),b(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Communication | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Communication",subTitle:e>=4?"Announcements and other message by the Barnagay ".concat(a," Officials."):"",style:{padding:0,backgroundColor:"#AD72B7"},extra:[Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Dt.a,{}),onClick:function(){A(!0),ge(!1)},style:{color:"#AD72B7"},children:e>=4?"Create Announcement":e>=1?"Create":""},"3"),Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(xe.a,{}),onClick:function(){je(!0)},style:{color:"#AD72B7"},children:e>=4?"Subscription List":e>=1?"List":""},"3")]})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(V.a,{gutter:e>=4?[0,0]:[0,24],children:[Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:7},children:[Object(ie.jsx)(wt.a,{style:{width:"100%"},defaultOpenKeys:["announcement"],mode:"inline",className:"comm-menu",onClick:function(){qe.current.scrollIntoView({behavior:"smooth"})},children:Object(ie.jsx)(wt.a.SubMenu,{icon:Object(ie.jsx)(Dt.a,{}),title:"Announcements",disabled:!0,children:0!==Ce.length&&Ce.slice(1===g?0:Number("".concat(g-1,"0")),Number("".concat(g,"0"))).map((function(e,t){return Object(ie.jsx)(wt.a.Item,{onClick:function(){De(e)},children:e.announcement},t)}))},"announcement")}),0!==Ce.length&&Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(ie.jsx)(St.a,{current:g,total:Ce.length,showSizeChanger:!1,responsive:!0,showLessItems:!0,size:"small",onChange:function(e){O(e)}})})]}),Object(ie.jsxs)(Q.a,{xs:{span:24},lg:{span:17},ref:qe,children:[0===Ce.length&&Object(ie.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",padding:"calc(100vh - 64%) 0"},children:Object(ie.jsx)(x.a,{description:"No announcement has been made!"})}),ke.requestor?Object(ie.jsxs)(Z.a,{title:ke.announcement,extra:oe()(ke.announcement_datetime)>oe()()?Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(Tt.a,{}),onClick:function(){var e;e=ke,Mt({title:"Are you sure to delete this announcement?",icon:Object(ie.jsx)(kt.a,{}),okText:"Confirm",okType:"danger",cancelText:"Cancel",onOk:function(){$e(e)}})},style:{color:"#AD72B7",marginRight:"10px"},children:"Delete"},"3"),Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(It.a,{}),onClick:function(){E(!0),$(ke),se.setFieldsValue({announcement:ke.announcement,message:ke.message,announcement_datetime:oe()(ke.announcement_datetime)}),ge(!1)},style:{color:"#AD72B7"},children:"Update"},"3")]}):Object(ie.jsx)(r.a.Fragment,{}),style:{width:"100%",height:"100%"},children:[Object(ie.jsxs)(ne.b,{title:"Announcement Details",ayout:"vertical",bordered:!0,children:[Object(ie.jsx)(ne.b.Item,{label:"Message",span:3,className:"display-linebreak",children:ke.message}),Object(ie.jsx)(ne.b.Item,{label:"Announcement Date",span:1.5,children:oe()(ke.announcement_datetime).format("MMMM DD, YYYY")}),Object(ie.jsx)(ne.b.Item,{label:"Date Creation",span:1.5,children:oe()(ke.createdAt).format("MMMM DD, YYYY")})]}),Object(ie.jsxs)(ne.b,{title:"Announcer Information",layout:"vertical",bordered:!0,style:{marginTop:"20px"},children:[Object(ie.jsx)(ne.b.Item,{label:"First Name",span:2,children:ke.requestor?ke.requestor.first_name:""}),Object(ie.jsx)(ne.b.Item,{label:"Last Name",span:2,children:ke.requestor?ke.requestor.last_name:""}),Object(ie.jsx)(ne.b.Item,{label:"Email",span:2,children:ke.requestor?ke.requestor.email:""}),Object(ie.jsx)(ne.b.Item,{label:"Phone Number",span:2,children:ke.requestor?ke.requestor.phone_number:""})]}),Object(ie.jsx)("p",{style:{fontSize:"16px",fontWeight:700,paddingTop:"20px"},children:"Subscribed Citizen"}),Object(ie.jsx)(ze.a,{columns:He,dataSource:ke.subscribed,scroll:{x:500}})]}):Object(ie.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",padding:"25vh 0"},children:Object(ie.jsx)(x.a,{description:Object(ie.jsx)("span",{children:"Select an announcement!"})})})]})]})}),Object(ie.jsxs)(J.a,{title:"Create Announcement",width:e>=4?"50%":"100%",closable:!0,onClose:function(){A(!1)},visible:C,children:[Object(ie.jsxs)(z.a,{onFinish:function(e){D(!0),_(e)},layout:"vertical",form:ye,children:[Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsxs)(Q.a,{xs:{span:24},children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Announcement Details"}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"announcement",label:"Announcement",tooltip:"Announcement title",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"message",label:"Message",tooltip:"Reports, Memo, or any directive relating to the announcement",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a.TextArea,{autoSize:{minRows:5,maxRows:5}})})})}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:12},children:Object(ie.jsx)("p",{style:{fontSize:"14px",fontWeight:"400",paddingLeft:"10px"},children:"Send announcement after submission?"})}),Object(ie.jsx)(Q.a,{xs:{span:12},children:Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(ie.jsx)(ee.a,{checked:he,onChange:function(){ge(!he)}})})})]}),!0===he?Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(X.a,{message:"Announcement will be sent right after the form submission.",type:"info"})})}):Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"announcement_datetime",label:"Start Date and Time",tooltip:"Event's initial time start",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(te.a,{disabledDate:Xe,format:"MM-DD-YYYY",style:{width:"100%"}})})})})]})}),Object(ie.jsxs)(z.a.Item,{style:{paddingTop:"20px"},children:[Object(ie.jsx)(H.a,{type:"default",style:{marginRight:e<=4?"10px":"20px"},onClick:function(){return ye.resetFields()},children:"Reset"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",children:"Confirm"})]})]}),Object(ie.jsx)(ae.a,{title:"Announcement Confirmation",visible:k,onOk:function(){Je()},onCancel:function(){ye.setFieldsValue(M),D(!1),_({})},children:Object(ie.jsxs)(ne.b,{bordered:!0,children:[Object(ie.jsx)(ne.b.Item,{label:"Announcement",span:3,children:M.announcement}),Object(ie.jsx)(ne.b.Item,{label:"Message",span:3,children:M.message}),Object(ie.jsx)(ne.b.Item,{label:"Announcement Date",span:1.5,children:M.announcement_datetime?oe()(M.announcement_datetime).format("MMMM DD,YYYY"):oe()().format("MMMM DD,YYYY")})]})})]}),Object(ie.jsxs)(J.a,{title:"Update Announcement",width:e>=4?"50%":"100%",closable:!0,onClose:function(){E(!1)},visible:q,children:[Object(ie.jsxs)(z.a,{onFinish:function(e){Ge(e)},layout:"vertical",form:se,children:[Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsxs)(Q.a,{xs:{span:24},children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Announcement Details"}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"announcement",label:"Announcement",tooltip:"Announcement title",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})})}),Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"message",label:"Message",tooltip:"Reports, Memo, or any directive relating to the announcement",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a.TextArea,{autoSize:{minRows:5,maxRows:5}})})})}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:12},children:Object(ie.jsx)("p",{style:{fontSize:"14px",fontWeight:"400",paddingLeft:"10px"},children:"Send announcement after submission?"})}),Object(ie.jsx)(Q.a,{xs:{span:12},children:Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(ie.jsx)(ee.a,{checked:he,onChange:function(){ge(!he)}})})})]}),!0===he?Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(X.a,{message:"Announcement will be sent right after the form submission.",type:"info"})})}):Object(ie.jsx)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:Object(ie.jsx)(Q.a,{xs:{span:24},children:Object(ie.jsx)(z.a.Item,{name:"announcement_datetime",label:"Start Date and Time",tooltip:"Event's initial time start",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(te.a,{disabledDate:Xe,format:"MM-DD-YYYY",style:{width:"100%"}})})})})]})}),Object(ie.jsxs)(z.a.Item,{style:{paddingTop:"20px"},children:[Object(ie.jsx)(H.a,{type:"default",style:{marginRight:e<=4?"10px":"20px"},onClick:function(){return se.resetFields()},children:"Reset"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",children:"Confirm"})]})]}),Object(ie.jsx)(ae.a,{title:"Announcement Confirmation",visible:k,onOk:function(){Je()},onCancel:function(){se.setFieldsValue(M),D(!1),_({})},children:Object(ie.jsxs)(ne.b,{bordered:!0,children:[Object(ie.jsx)(ne.b.Item,{label:"Announcement",span:3,children:M.announcement}),Object(ie.jsx)(ne.b.Item,{label:"Message",span:3,children:M.message}),Object(ie.jsx)(ne.b.Item,{label:"Announcement Date",span:1.5,children:M.announcement_datetime?oe()(M.announcement_datetime).format("MMMM DD,YYYY"):oe()().format("MMMM DD,YYYY")})]})})]}),Object(ie.jsxs)(J.a,{title:"Subscription List",width:e>=4?"75%":"100%",closable:!0,onClose:function(){je(!1)},visible:de,className:"subscription-list",children:[console.log(Ye),Object(ie.jsx)(ze.a,{columns:Ze,dataSource:Ye,scroll:{x:500}})]}),Object(ie.jsx)(ae.a,{title:Qe.title,visible:Fe,onCancel:function(){Ne(!Fe)},onOk:function(){Ne(!Fe)},children:Object(ie.jsxs)(ne.b,{bordered:!0,layout:"vertical",children:[Qe.address&&Object(ie.jsx)(ne.b.Item,{label:"Full Address",span:3,children:Qe.address}),Qe.facebook_url&&Object(ie.jsx)(ne.b.Item,{label:"Facebook URL",span:3,children:Qe.facebook_url}),Qe.barangay_id_number&&Object(ie.jsx)(ne.b.Item,{label:"Barangay ID Number",span:3,children:Qe.barangay_id_number}),Qe.vaccine_card&&Object(ie.jsx)(ne.b.Item,{label:"Vaccine Card",span:3,children:Object(ie.jsx)("img",{alt:"example",style:{width:"100%",height:"auto"},src:Qe.vaccine_card,galleryimg:"no"})}),Qe.proof_of_billing&&Object(ie.jsx)(ne.b.Item,{label:"Proof of Billing",span:3,children:Object(ie.jsx)("img",{alt:"example",style:{width:"100%",height:"auto"},src:Qe.proof_of_billing,galleryimg:"no"})}),Qe.any_id&&Object(ie.jsx)(ne.b.Item,{label:"General ID",span:1.5,children:Object(ie.jsx)("img",{alt:"example",style:{width:"100%",height:"auto"},src:Qe.any_id,galleryimg:"no"})})]})})]})},Bt=a(717),Yt=a.n(Bt),Rt=a(266),qt=a(1237),Pt=a(1238),Et=ae.a.confirm,Ft=function(){var e=Object(c.c)((function(e){return e.web})),t=e.dimension,a=Object(c.c)((function(e){return e.user})),s=a.barangay,i=a.designation,l=Object(q.h)(),u=Object(n.useState)({searchText:"",searchedColumn:"",searchInput:""}),b=Object(p.a)(u,2),x=b[0],m=b[1],h=Object(n.useState)(!0),g=Object(p.a)(h,2),O=g[0],y=g[1],v=Object(n.useState)([]),C=Object(p.a)(v,2),A=C[0],w=C[1],S=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("settings/user-list?barangay=".concat(s));case 3:t=e.sent,w(t.data.payload),y(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),y(!1),f({payloadType:"error",textString:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("settings/user-status",t);case 3:a=e.sent,f({payloadType:"success",textString:a.data.message}),S(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),y(!1),f({payloadType:"error",textString:"Status has been changed."});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("settings/user-pass-request",t);case 3:a=e.sent,f({payloadType:"success",textString:a.data.message}),S(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),y(!1),f({payloadType:"error",textString:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){S()}),[]);var T=function(e,t,a){t(),m({searchText:e[0],searchedColumn:a})},I=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,n=t.selectedKeys,r=t.confirm,s=t.clearFilters;return Object(ie.jsxs)("div",{style:{padding:8},children:[Object(ie.jsx)(G.a,{ref:function(e){x.searchInput=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return T(n,r,e)},style:{marginBottom:8,display:"block"}}),Object(ie.jsxs)(pe.b,{children:[Object(ie.jsx)(H.a,{type:"primary",onClick:function(){return T(n,r,e)},icon:Object(ie.jsx)(Rt.a,{}),size:"small",style:{width:90},children:"Search"}),Object(ie.jsx)(H.a,{onClick:function(){return function(e){e(),m({searchText:""})}(s)},size:"small",style:{width:90},children:"Reset"}),Object(ie.jsx)(H.a,{type:"link",size:"small",onClick:function(){r({closeDropdown:!1}),m({searchText:n[0],searchedColumn:e})},children:"Filter"})]})]})},filterIcon:function(e){return Object(ie.jsx)(Rt.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e]?a[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return x.searchInput.select()}),100)},render:function(t){return x.searchedColumn===e?Object(ie.jsx)(Yt.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[x.searchText],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},M=[Object(P.a)(Object(P.a)({title:"First Name",dataIndex:"first_name",key:"First Name",width:"15%"},I("first_name")),{},{sorter:function(e,t){return e.first_name.length-t.first_name.length}}),Object(P.a)(Object(P.a)({title:"Last Name",dataIndex:"last_name",key:"Last Name",width:"15%"},I("last_name")),{},{sorter:function(e,t){return e.last_name.length-t.last_name.length}}),Object(P.a)(Object(P.a)({title:"Designation",dataIndex:"designation",key:"Designation",width:"15%"},I("designation")),{},{sorter:function(e,t){return e.last_name.length-t.last_name.length}}),{title:"Status",key:"Status",width:"15%",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:!0===e.status?"Active":"Inactive"})}},{title:"Last Accessed",key:"Last Accessed",width:"30%",render:function(e,t){return Object(ie.jsx)(pe.b,{size:"middle",children:oe()(e.updatedAt).format("MMMM DD, YYYY h:mm A")})}},{title:"Action",key:"action",render:function(e,t){return Object(ie.jsxs)(pe.b,{size:"middle",children:[Object(ie.jsx)(K.a,{title:"View User Details",children:Object(ie.jsx)(H.a,{type:"primary",onClick:function(){l({pathname:"/dashboard/users/view/".concat(e._id),search:"?barangay=".concat(e.barangay)})},children:Object(ie.jsx)(xe.a,{})})}),Object(ie.jsx)(K.a,{title:e.createdAt===e.updatedAt?"User has not been verified":"Request Password Reset",children:Object(ie.jsx)(H.a,{type:"danger",style:{background:"orange",borderColor:"white"},onClick:function(){!function(e){console.log(e),Et({title:"Do you want to request a password reset to this user?",icon:Object(ie.jsx)(kt.a,{}),content:"Note: This user will receive an email containing a link to change their existing password.",onOk:function(){D({_id:e._id})},onCancel:function(){console.log("Cancel")}})}(e)},disabled:e.createdAt===e.updatedAt,children:Object(ie.jsx)(qt.a,{})})}),"Staff"===i&&"Chairman"===e.designation?Object(ie.jsx)(r.a.Fragment,{}):Object(ie.jsx)(K.a,{title:!0===e.status?"Disable User":e.createdAt===e.updatedAt?"User has not been verified":"Enable User",children:!0===e.status?Object(ie.jsx)(H.a,{type:"danger",style:{background:"red",borderColor:"white"},onClick:function(){!function(e){Et({title:"Do you want to disable this user?",icon:Object(ie.jsx)(kt.a,{}),content:"Note: All created and related documents to this user will still exists but the user will no longer be able to have access and authority in the portal.",onOk:function(){k({_id:e._id,barangay:e.barangay,status:e.status})},onCancel:function(){console.log("Cancel")}})}(e)},children:Object(ie.jsx)(lt.a,{})}):Object(ie.jsx)(H.a,{type:"danger",style:{background:"green",borderColor:"white"},onClick:function(){!function(e){Et({title:"Do you want to re-enable this user?",icon:Object(ie.jsx)(kt.a,{}),content:"Note: This user will regain his/her access and authority in the portal and will be able to do authoritive task pertaining to his/her designation again.",onOk:function(){k({_id:e._id,barangay:e.barangay,status:e.status})},onCancel:function(){console.log("Cancel")}})}(e)},disabled:e.createdAt===e.updatedAt,children:Object(ie.jsx)(Pt.a,{})})})]})}}];return Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"User | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:" Barangay Users",subTitle:t>=4?"All users registered under Barangay ".concat(s,"."):"",style:{padding:0,backgroundColor:"#AD72B7"},extra:[Object(ie.jsx)(H.a,{icon:Object(ie.jsx)(xe.a,{}),onClick:function(){l({pathname:"/dashboard/users/create/invitation"})},style:{color:"#AD72B7"},children:"Create User"},"3")]})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(ze.a,{columns:M,dataSource:A,loading:O,scroll:{x:500}})})]})},Nt=["prefix"],zt=function(){var e=Object(c.c)((function(e){return e.web})).dimension,t=Object(c.c)((function(e){return e.user})),a=t.designation,n=t.barangay,s=Object(c.b)(),i=z.a.useForm(),l=Object(p.a)(i,1)[0],u=Object(q.h)(),b=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,r,i,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.prefix,r=Object(E.a)(t,Nt),e.prev=1,s(Y({loading:!0})),i=Object(P.a)(Object(P.a)({},r),{},{password:"encrypted",barangay:n,phone_number:a+r.phone_number}),e.next=6,N.post("settings/user-invitation",i);case 6:c=e.sent,s(Y({loading:!1})),f({payloadType:"success",textString:c.data.message}),u({pathname:"/dashboard/users/view/".concat(c.data.payload.id)}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),s(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"User | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Create New User",subTitle:e>=4?"Please fill-up everything before submitting.":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(z.a,{onFinish:b,layout:"vertical",form:l,children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Personal Details"}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"first_name",label:"First Name",tooltip:"Individual's given birth first name",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"last_name",label:"Last Name",tooltip:"Individual's given last name",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})})]}),Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Digital Details"}),Object(ie.jsxs)(V.a,{gutter:[24,0],children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"email",label:"Email",tooltip:"Individual's personal/private email address",rules:[{type:"email",message:"Input is not a valid Email!"},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"phone_number",label:"Phone Number",tooltip:"Individual's personal/private Phone Number",rules:[{message:"PH Number should start with 639 + the 9 numbers!",pattern:new RegExp(/^(\w{9})$/)},{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)(G.a,{addonBefore:Object(ie.jsx)(z.a.Item,{name:"prefix",noStyle:!0,initialValue:"639",children:Object(ie.jsx)($.a,{children:Object(ie.jsx)($.a.Option,{value:"639",children:"+639"})})})})})})]}),Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Barangay Details"}),Object(ie.jsx)(z.a.Item,{name:"designation",label:"Designation",tooltip:"Individual's position in the barangay",rules:[{required:!0,message:"Please fill out this field!"}],required:!0,children:Object(ie.jsx)($.a,{placeholder:"Select a option and change input text above",allowClear:!0,children:[].concat(Object(de.a)("Chairman"===a?["Chairman"]:[]),["Staff","Doctor","Nurse"]).map((function(e,t){return Object(ie.jsx)($.a.Option,{value:e,children:e},t)}))})}),Object(ie.jsxs)(z.a.Item,{style:{paddingTop:"20px"},children:[Object(ie.jsx)(H.a,{type:"default",style:{marginRight:e<=4?"10px":"20px"},onClick:function(){l.resetFields()},children:"Reset"}),Object(ie.jsx)(H.a,{type:"primary",htmlType:"submit",children:"Submit"})]})]})})]})},Lt=function(){var e=Object(q.i)(),t=Object(l.b)(),a=Object(p.a)(t,1)[0],s=Object(q.h)(),i=Object(c.c)((function(e){return e.web})).dimension,u=Object(c.b)(),b=Object(n.useState)({first_name:"",last_name:"",email:"",phone_number:"",designation:"",status:"",language:""}),x=Object(p.a)(b,2),m=x[0],h=x[1],g=function(){var t=Object(d.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(Y({loading:!0})),t.next=4,N.post("settings/user-data",{id:e.id,barangay:a.get("barangay")});case 4:n=t.sent,h({first_name:n.data.payload.first_name,last_name:n.data.payload.last_name,email:n.data.payload.email,phone_number:n.data.payload.phone_number,designation:n.data.payload.designation,status:n.data.payload.status,language:n.data.payload.language}),u(Y({loading:!1})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),u(Y({loading:!1})),t.t0.response?f({payloadType:"error",textString:t.t0.response.data.message}):f({payloadType:"error",textString:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),O=z.a.useForm(),y=Object(p.a)(O,1)[0];return Object(n.useEffect)((function(){g()}),[]),Object(n.useEffect)((function(){y.setFieldsValue(m)}),[m]),Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"User | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"User Details",subTitle:i>=4?"Primary Information of the user is listed below.":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(z.a,{layout:"vertical",form:y,children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Personal Details"}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"first_name",label:"First Name",children:Object(ie.jsx)(G.a,{disabled:!0})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"last_name",label:"Last Name",children:Object(ie.jsx)(G.a,{disabled:!0})})})]}),Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Digital Details"}),Object(ie.jsxs)(V.a,{gutter:[24,0],children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"email",label:"Email",children:Object(ie.jsx)(G.a,{disabled:!0})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"phone_number",label:"Phone Number",children:Object(ie.jsx)(G.a,{addonBefore:Object(ie.jsx)(z.a.Item,{name:"prefix",noStyle:!0,initialValue:"639",children:Object(ie.jsx)($.a,{children:Object(ie.jsx)($.a.Option,{value:"639",children:"+639"})})}),disabled:!0})})})]}),Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Barangay Details"}),Object(ie.jsx)(z.a.Item,{name:"designation",label:"Designation",children:Object(ie.jsx)(G.a,{disabled:!0})}),Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Application Settings"}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"language",label:"Language",children:Object(ie.jsx)(G.a,{disabled:!0})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"status",label:"Status",children:Object(ie.jsx)(G.a,{disabled:!0})})})]}),Object(ie.jsx)(z.a.Item,{style:{paddingTop:"20px"},children:Object(ie.jsx)(H.a,{type:"default",style:{marginRight:i<=4?"10px":"20px"},onClick:function(){s({pathname:"/dashboard/users"})},children:"Return"})})]})})]})},Ut=ae.a.confirm,Vt=function(){var e=Object(q.h)(),t=Object(c.c)((function(e){return e.web})).dimension,a=Object(c.c)((function(e){return e.user})).email,s=Object(c.b)(),i=Object(n.useState)({first_name:"",last_name:"",email:"",phone_number:"",designation:"",status:"",language:"",_id:""}),l=Object(p.a)(i,2),u=l[0],b=l[1],x=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(Y({loading:!0})),e.next=4,N.post("settings/user-data",{email:a});case 4:t=e.sent,b({first_name:t.data.payload.first_name,last_name:t.data.payload.last_name,email:t.data.payload.email,phone_number:t.data.payload.phone_number,designation:t.data.payload.designation,status:t.data.payload.status,language:t.data.payload.language,createdAt:oe()(t.data.payload.createdAt).format("MMMM DD,YYYY h:mm:ss a"),updatedAt:oe()(t.data.payload.updatedAt).add(3,"hours").format("MMMM DD,YYYY h:mm:ss a"),_id:t.data.payload._id}),s(Y({loading:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),m=z.a.useForm(),g=Object(p.a)(m,1)[0];Object(n.useEffect)((function(){x()}),[]),Object(n.useEffect)((function(){g.setFieldsValue(u)}),[u]);var O=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(Y({loading:!0})),e.next=4,N.post("settings/user-setting?id=".concat(u._id),{email:t.email,phone_number:t.prefix+t.phone_number,password:t.password});case 4:return a=e.sent,f({payloadType:"success",textString:a.data.message}),localStorage.setItem("Authorization",a.data.payload),e.next=9,h.a.verify(localStorage.getItem("Authorization"),"teamcapbi");case 9:n=e.sent,s(S({email:n.email,phone_number:n.phone_number})),s(Y({loading:!1})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),s(Y({loading:!1})),e.t0.response?f({payloadType:"error",textString:e.t0.response.data.message}):f({payloadType:"error",textString:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(o.a,{children:Object(ie.jsx)("title",{children:"Setting | Portal Silang Medical Services"})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"#AD72B7",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsx)(Me.a,{ghost:!1,title:"Personal Settings",subTitle:t>=4?"Your Primary Information.":"",style:{padding:0,backgroundColor:"#AD72B7"}})}),Object(ie.jsx)(ue.a.Content,{style:{backgroundColor:"white",padding:"10px 20px",marginBottom:"15px",borderRadius:"5px"},children:Object(ie.jsxs)(z.a,{layout:"vertical",form:g,onFinish:function(e){Ut({title:"Please confirm the changes.",icon:Object(ie.jsx)(kt.a,{}),content:"Note: This user have his/her primary information updated based on the changes made in the form",onOk:function(){O(e)},onCancel:function(){console.log("Cancel")}})},children:[Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Personal Details"}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"first_name",label:"First Name",children:Object(ie.jsx)(G.a,{disabled:!0})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"last_name",label:"Last Name",children:Object(ie.jsx)(G.a,{disabled:!0})})})]}),Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Digital Details"}),Object(ie.jsxs)(V.a,{gutter:[24,0],children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please fill out this field!"}],children:Object(ie.jsx)(G.a,{})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"phone_number",label:"Phone Number",rules:[{message:"PH Number should start with 639 + the 9 numbers!",pattern:new RegExp(/^(\w{9})$/)},{required:!0,message:"Please fill out this field!"}],children:Object(ie.jsx)(G.a,{addonBefore:Object(ie.jsx)(z.a.Item,{name:"prefix",noStyle:!0,initialValue:"639",children:Object(ie.jsx)($.a,{children:Object(ie.jsx)($.a.Option,{value:"639",children:"+639"})})})})})})]}),Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Barangay Details"}),Object(ie.jsx)(z.a.Item,{name:"designation",label:"Designation",children:Object(ie.jsx)(G.a,{disabled:!0})}),Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Application Settings"}),Object(ie.jsxs)(V.a,{gutter:[24,0],style:{paddingTop:"10px"},children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"language",label:"Language",children:Object(ie.jsx)(G.a,{disabled:!0})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"status",label:"Status",children:Object(ie.jsx)(G.a,{disabled:!0})})})]}),Object(ie.jsxs)(V.a,{gutter:[24,0],children:[Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"createdAt",label:"Account Creation",children:Object(ie.jsx)(G.a,{disabled:!0})})}),Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"updatedAt",label:"Last Accessed",children:Object(ie.jsx)(G.a,{disabled:!0})})})]}),Object(ie.jsx)(W.a,{orientation:"left",plain:!0,orientationMargin:10,children:"Confirm Changes"}),Object(ie.jsx)(V.a,{gutter:[24,0],children:Object(ie.jsx)(Q.a,{xs:{span:24},lg:{span:12},children:Object(ie.jsx)(z.a.Item,{name:"password",label:"Current Password",rules:[{required:!0,message:"Please fill out this field!"}],children:Object(ie.jsx)(G.a.Password,{})})})}),Object(ie.jsxs)(z.a.Item,{style:{paddingTop:"20px"},children:[Object(ie.jsx)(H.a,{type:"default",style:{marginRight:t<=4?"10px":"20px"},onClick:function(){e({pathname:"/dashboard"})},children:"Return"}),Object(ie.jsx)(H.a,{type:"primary",style:{marginRight:t<=4?"10px":"20px"},htmlType:"submit",children:"Save Changes"})]})]})})]})};var Qt=function(){return Object(ie.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:Object(ie.jsx)(x.a,{description:"404 Page not Found!"})})};var Wt=function(e){var t=e.component,a=e.redirectTo,r=e.authStatus,s=e.users,i=Object(c.b)(),l=Object(c.c)((function(e){return e.user})).designation,o=Object(c.c)((function(e){return e.web})).authorization,d=Object(q.h)(),p=Object(q.g)();if(localStorage.getItem("Authorization")&&!0===o)try{h.a.verify(localStorage.getItem("Authorization"),"teamcapbi")}catch(j){i(M()),f({payloadType:"error",textString:"Authorization has expired."})}else if(localStorage.getItem("Authorization")&&!1===o)try{var u=h.a.verify(localStorage.getItem("Authorization"),"teamcapbi");i(A({first_name:u.first_name,last_name:u.last_name,email:u.email,phone_number:u.phone_number,barangay:u.barangay,designation:u.designation})),i(I({language:u.language}))}catch(j){localStorage.removeItem("Authorization"),j.response?f({payloadType:"error",textString:"jwt expired"===j.response.data.message?"Authentication session has expired":"Authentication session incorrect!"}):f({payloadType:"error",textString:"jwt expired"===j.message?"Authentication session has expired":"Authentication session incorrect!"})}else o===r||localStorage.getItem("Authorization")||f({payloadType:"warning",textString:"Route is restricted!"});return Object(n.useEffect)((function(){void 0!==s&&(s.some((function(e){return e===l}))||(d("/"),f({payloadType:"error",textString:"Current user designation does not have authority for this path!"})))}),[p]),o===r?t:Object(ie.jsx)(q.a,{to:a})},Ht=a(1221),Zt=a(723),Kt=a(1216),Jt=a(1222),Xt=a(1239),Gt=a(1240),$t=a(1241),ea=[{name:"Dashboard",icon:Object(ie.jsx)(Xt.a,{}),redirect:"",roles:["Chairman","Staff","Nurse","Doctor"]},{name:"Analytics",icon:Object(ie.jsx)(Gt.a,{}),redirect:"analytics",roles:["Chairman","Nurse","Doctor"]},{name:"Records",icon:Object(ie.jsx)(Ue.a,{}),redirect:"medical-records",roles:["Chairman","Nurse","Doctor"]},{name:"Event Listing",icon:Object(ie.jsx)(pt.a,{}),redirect:"event-listing",roles:["Chairman","Staff"]},{name:"Communication",icon:Object(ie.jsx)(Dt.a,{}),redirect:"communication",roles:["Chairman","Staff"]},{name:"Users",icon:Object(ie.jsx)(xe.a,{}),redirect:"users",roles:["Chairman","Staff"]},{name:"Settings",icon:Object(ie.jsx)(qt.a,{}),redirect:"setting",roles:["Chairman","Staff","Nurse","Doctor"]},{name:"Sign out",icon:Object(ie.jsx)($t.a,{}),redirect:"",roles:["Chairman","Staff","Nurse","Doctor"]}],ta=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()};var aa=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.user})),a=t.first_name,s=t.last_name,i=t.designation,l=Object(c.c)((function(e){return e.web})),o=l.drawer,d=l.dimension,p=l.authorization,u=l.loading,j=wt.a.SubMenu,x=ue.a.Header,m=ue.a.Sider,h=ue.a.Content,g=Object(q.h)(),O=Object(q.g)();return Object(n.useEffect)((function(){e(_(d>=5?{drawer:!1}:{drawer:!0}))}),[d]),Object(ie.jsxs)(ue.a,{children:[Object(ie.jsx)(m,{trigger:null,collapsible:!0,collapsed:o,children:Object(ie.jsxs)(Ht.a,{offsetTop:0,children:[Object(ie.jsx)(U.a,{src:Se,style:{width:"60%",padding:"10px 0"},className:"logoImage"}),Object(ie.jsx)(wt.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["".concat(ta(O.pathname.split("/").reduce((function(e,t){return"Dashboard"!==t?t:"Dashboard"}))))],defaultOpenKeys:["sub1"],children:ea.map((function(t,a){return Object(ie.jsx)(r.a.Fragment,{children:t.roles.some((function(e){return e===i}))?Object(ie.jsx)(r.a.Fragment,{children:void 0===t.childrens&&"Sign out"===t.name?Object(ie.jsx)(wt.a.Item,{icon:t.icon,onClick:function(){localStorage.removeItem("Authorization"),e(w()),e(M()),g("/")},children:t.name},t.name):void 0===t.childrens?Object(ie.jsx)(wt.a.Item,{icon:t.icon,onClick:function(){g(t.redirect)},children:t.name},t.name):Object(ie.jsx)(j,{title:t.name,icon:t.icon,children:t.childrens.map((function(e,t){return Object(ie.jsx)(r.a.Fragment,{children:Object(ie.jsx)(wt.a.Item,{onClick:function(){g(e.redirect)},children:e.name},e.name)},t)}))},t.name)}):Object(ie.jsx)(r.a.Fragment,{})},a)}))})]})}),Object(ie.jsxs)(ue.a,{className:"site-layout",children:[Object(ie.jsxs)(x,{style:{padding:"0 20px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"white",overflow:"hidden"},children:[d>=3&&Object(ie.jsx)(Zt.a,{children:"dashboard"===O.pathname.split("/")[1]&&2===O.pathname.split("/").length?Object(ie.jsx)(r.a.Fragment,{children:Object(ie.jsxs)(Zt.a.Item,{onClick:function(){g("/dashboard")},children:[Object(ie.jsx)(Xt.a,{}),Object(ie.jsx)("span",{children:ta(O.pathname.split("/")[1])})]})}):Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsxs)(Zt.a.Item,{href:"/dashboard",children:[Object(ie.jsx)(Xt.a,{}),Object(ie.jsx)("span",{children:ta(O.pathname.split("/")[1])})]}),O.pathname.split("/").map((function(e,t){return t<=0||1===t?null:O.pathname.split("/").length-1===t?Object(ie.jsx)(Zt.a.Item,{children:ta(e)},t):Object(ie.jsx)(Zt.a.Item,{children:Object(ie.jsx)("span",{children:O.pathname.split("/").length>=3&&d<=2?"...":ta(e)})},t)}))]})}),Object(ie.jsx)("div",{style:{lineHeight:"5px"},children:Object(ie.jsxs)("span",{className:"c-pill c-pill--success",children:[a," ",s," (",i,")"]})})]}),Object(ie.jsx)(h,{style:{padding:"20px",display:"flex",justifyContent:"center"},children:Object(ie.jsx)("div",{style:{width:"100%",maxWidth:"1500px"},children:Object(ie.jsx)(b.a,{tip:"Loading...",spinning:!1!==p&&u,children:Object(ie.jsx)(q.b,{})})})})]}),Object(ie.jsx)(Kt.a,{children:Object(ie.jsx)("div",{style:{height:40,width:50,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:4,backgroundColor:"#8C5C94",color:"#fff",textAlign:"center",fontSize:10},children:Object(ie.jsx)(Jt.a,{})})})]})};var na=function(){return Object(ie.jsx)(q.e,{children:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(q.c,{path:"/",element:Object(ie.jsx)(Wt,{authStatus:!1,redirectTo:"dashboard",component:Object(ie.jsx)(De,{})})}),Object(ie.jsxs)(q.c,{path:"dashboard",element:Object(ie.jsx)(aa,{}),children:[Object(ie.jsx)(q.c,{path:"",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(Ie,{})})}),Object(ie.jsx)(q.c,{path:"analytics",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(Be,{}),users:["Chairman","Nurse","Doctor"]})}),Object(ie.jsx)(q.c,{path:"analytics/:year/:month",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(Ne,{}),users:["Chairman","Nurse","Doctor"]})}),Object(ie.jsx)(q.c,{path:"medical-records",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(Xe,{}),users:["Chairman","Nurse","Doctor"]})}),Object(ie.jsx)(q.c,{path:"medical-records/create",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(tt,{}),users:["Nurse","Doctor"]})}),Object(ie.jsx)(q.c,{path:"medical-records/update/:id",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(nt,{}),users:["Nurse","Doctor"]})}),Object(ie.jsx)(q.c,{path:"medical-records/view/:id",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(st,{}),users:["Chairman","Nurse","Doctor"]})}),Object(ie.jsx)(q.c,{path:"event-listing",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(yt,{}),users:["Chairman","Staff","Nurse","Doctor"]})}),Object(ie.jsx)(q.c,{path:"event-listing/create",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(ct,{}),users:["Chairman","Staff"]})}),Object(ie.jsx)(q.c,{path:"event-listing/update/:id",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(vt,{}),users:["Chairman","Staff"]})}),Object(ie.jsx)(q.c,{path:"event-listing/add-attendee/:id",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(At,{}),users:["Chairman","Staff"]})}),Object(ie.jsx)(q.c,{path:"event-listing/view/:id",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(ut,{}),users:["Chairman","Staff","Nurse","Doctor"]})}),Object(ie.jsx)(q.c,{path:"communication",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(_t,{}),users:["Chairman","Staff"]})}),Object(ie.jsx)(q.c,{path:"users",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(Ft,{}),users:["Chairman","Staff"]})}),Object(ie.jsx)(q.c,{path:"users/create/invitation",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(zt,{}),users:["Chairman","Staff"]})}),Object(ie.jsx)(q.c,{path:"users/view/:id",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(Lt,{}),users:["Chairman","Staff"]})}),Object(ie.jsx)(q.c,{path:"setting",element:Object(ie.jsx)(Wt,{authStatus:!0,redirectTo:"/",component:Object(ie.jsx)(Vt,{})})}),Object(ie.jsx)(q.c,{path:"*",element:Object(ie.jsx)(Qt,{})})]}),Object(ie.jsx)(q.c,{path:"*",element:Object(ie.jsx)(Qt,{})})]})})},ra={en:a(718),tl:a(719)},sa=a(130),ia=function(){var e=Object(c.b)(),t=Object(sa.useMediaQuery)({query:"(min-width: 1600px)"}),a=Object(sa.useMediaQuery)({query:"(min-width: 1200px)"}),r=Object(sa.useMediaQuery)({query:"(min-width: 992px)"}),s=Object(sa.useMediaQuery)({query:"(min-width: 768px)"}),i=Object(sa.useMediaQuery)({query:"(min-width: 576px)"}),l=Object(sa.useMediaQuery)({query:"(min-width: 344px)"});Object(n.useEffect)((function(){e(B({dimension:t?6:a?5:r?4:s?3:i?2:l?1:0}))}),[]),function(){var e=Object(c.b)(),t=Object(sa.useMediaQuery)({query:"(min-width: 1600px)"}),a=Object(sa.useMediaQuery)({query:"(min-width: 1200px)"}),r=Object(sa.useMediaQuery)({query:"(min-width: 992px)"}),s=Object(sa.useMediaQuery)({query:"(min-width: 768px)"}),i=Object(sa.useMediaQuery)({query:"(min-width: 576px)"}),l=Object(sa.useMediaQuery)({query:"(min-width: 344px)"});Object(n.useEffect)((function(){var e=function(){};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),e(B({dimension:t?6:a?5:r?4:s?3:i?2:l?1:0}))}()},ca=(a(1180),a(1181),a(1182),function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.web})),a=t.authorization,r=t.language,s=t.loading;ia();var i=Object(n.useState)(window.navigator.onLine),l=Object(p.a)(i,2),o=l[0];!function(e,t){var a=function(){t(window.navigator.onLine)};Object(n.useEffect)((function(){return window.addEventListener("offline",a),window.addEventListener("online",a),function(){window.removeEventListener("offline",a),window.removeEventListener("online",a)}}))}(0,l[1]);var u=function(){var t=Object(d.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!localStorage.getItem("Authorization")){t.next=7;break}return t.next=4,h.a.verify(localStorage.getItem("Authorization"),"teamcapbi");case 4:a=t.sent,e(A({first_name:a.first_name,last_name:a.last_name,email:a.email,phone_number:a.phone_number,barangay:a.barangay,designation:a.designation})),e(I({language:a.language}));case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),localStorage.removeItem("Authorization"),t.t0.response?f({payloadType:"error",textString:"jwt expired"===t.t0.response.data.message?"Authentication session has expired":"Authentication session incorrect!"}):f({payloadType:"error",textString:"jwt expired"===t.t0.message?"Authentication session has expired":"Authentication session incorrect!"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),Object(ie.jsx)(g.a,{locale:r,messages:ra[r],children:Object(ie.jsx)(b.a,{tip:"Loading...",spinning:!0!==a&&s,style:{zIndex:999999999},children:!0===o?Object(ie.jsx)(na,{}):Object(ie.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:Object(ie.jsx)(x.a,{image:se,description:"Internet connection is too slow or your device has been disconnected!"})})})})}),la=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1242)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))},oa=Object(O.a)({reducer:{web:R,user:k,calendar:gt},devTools:!1});i.a.render(Object(ie.jsx)(r.a.StrictMode,{children:Object(ie.jsx)(c.a,{store:oa,children:Object(ie.jsx)(o.b,{children:Object(ie.jsx)(l.a,{children:Object(ie.jsx)(ca,{})})})})}),document.getElementById("root")),la()},570:function(e,t,a){},718:function(e){e.exports=JSON.parse('{"test.message":"Welcome back!","test.message_with_props":"Welcome back, {name} {role}!"}')},719:function(e){e.exports=JSON.parse('{"test.message":"Maligayang pagbabalik!","test.message_with_props":"Maligayang pagbabalik, {name} {role}!"}')},751:function(e,t){},753:function(e,t){},764:function(e,t){},766:function(e,t){},794:function(e,t){},795:function(e,t){},800:function(e,t){},802:function(e,t){},809:function(e,t){},828:function(e,t){},950:function(e,t,a){},952:function(e,t,a){},959:function(e,t,a){}},[[1183,1,2]]]);
//# sourceMappingURL=main.15fcecfc.chunk.js.map